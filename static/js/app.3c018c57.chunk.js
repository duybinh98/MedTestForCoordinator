(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{105:function(t,e,n){t.exports=n.p+"static/media/Group 1.656244df.png"},110:function(t,e,n){t.exports=n.p+"static/media/ABClinic.013acc21.jpg"},115:function(t,e){t.exports=[{id:1,phoneNumber:"0000000000",name:"Lam Phan",dob:"1970-01-01T00:00:00.000+0000",address:"Default-Address",password:"$2a$10$Rqs8uzm/mZzJHWABOeOi7OuqyPsptBgWNL5k7Cf9bDnWpRL4gSfbW",active:1,email:"medtest.default@gmail.com",role:"COORDINATOR",gender:0,image:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",townCode:"T0",districtCode:"D0"},{id:2,phoneNumber:"0000000001",name:"DefaultCoordinator",dob:"1970-01-01T00:00:00.000+0000",address:"Default-Address",password:"$2a$10$Rqs8uzm/mZzJHWABOeOi7OuqyPsptBgWNL5k7Cf9bDnWpRL4gSfbW",active:1,email:"medtest.default@gmail.com",role:"ADMIN",gender:0,image:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",townCode:"T0",districtCode:"D0"}]},84:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(5),o=n(7),s=n.n(o),c=n(10),l=n.n(c),u=n(13),h=n.n(u),p=n(4),d=n.n(p),m=n(11),f=n.n(m),g=n(12),w=n.n(g),y=n(6),C=n.n(y),S=n(3),T=n(1),b=n(9),E=n(15),x=n(17),v=n.n(x),L=n(16),k=n(18),I=n(43);function A(t){return null==t?"":t.substring(8,10)+"-"+t.substring(5,7)+"-"+t.substring(0,4)}function D(t){return null==t?"":t.substring(11,13)+":"+t.substring(14,16)}function R(t){return t.substring(6,10)+"-"+t.substring(3,5)+"-"+t.substring(0,2)+"T00:00:00.000+0000"}var q=E.a.get("window").width<1201?1200:E.a.get("window").width;function P(t){switch(t){case"CUSTOMER":return"Kh\xe1ch h\xe0ng";case"NURSE":return"Y t\xe1";case"COORDINATOR":return"\u0110i\u1ec1u ph\u1ed1i vi\xean";case"ADMIN":return"Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"}}function N(t){for(var e=t.toString(),n=e.length-1,r="";n>=3;)r="."+e.substring(n-2,n+1)+r,n-=3;return r=e.substring(0,n+1)+r}function j(t){switch(t){case"pending":return"\u0110ang \u0111\u1ee3i y t\xe1 nh\u1eadn \u0111\u01a1n";case"coordinatorlostsample":return"\u0110i\u1ec1u ph\u1ed1i vi\xean l\xe0m m\u1ea5t m\u1eabu";case"accepted":return"\u0110ang \u0111\u1ee3i l\u1ea5y m\u1eabu";case"transporting":return"\u0110ang v\u1eadn chuy\u1ec3n m\u1eabu";case"lostsample":return"\u0110ang \u0111\u1ee3i l\u1ea5y l\u1ea1i m\u1eabu";case"waitingforresult":return"\u0110ang \u0111\u1ee3i k\u1ebft qu\u1ea3";case"closed":return"\u0110\xe3 xong";case"canceled":return"\u0110\xe3 b\u1ecb h\u1ee7y";case"reaccepted":return"\u0110\xe3 nh\u1eadn \u0111\u01a1n b\u1ecb m\u1ea5t do \u0111i\u1ec1u ph\u1ed1i vi\xean";case"retransporting":return"\u0110ang v\u1eadn chuy\u1ec3n \u0111\u01a1n b\u1ecb m\u1ea5t do \u0111i\u1ec1u ph\u1ed1i vi\xean";case"relostsample":return"\u0110ang \u0111\u1ee3i l\u1ea5y l\u1ea1i m\u1eabu do \u0111i\u1ec1u ph\u1ed1i vi\xean l\xe0m m\u1ea5t"}}function V(t){switch(t){case"pending":return"\u0110\u01a1n \u0111ang \u0111\u1ee3i x\u1eed l\xfd";case"accepted":return"\u0110\u01a1n \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn";case"rejected":return"\u0110\u01a1n \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i";case"canceled":return"\u0110\u01a1n \u0111\xe3 b\u1ecb h\u1ee7y"}}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var M=function(t){f()(i,t);var e,r=(e=i,function(){var t,n=C()(e);if(B()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function i(t){var e;return l()(this,i),(e=r.call(this,t)).state={requestId:"",errorMessage:""},e.editProfile=e.editProfile.bind(d()(e)),e.logOut=e.logOut.bind(d()(e)),e.searchRequest=e.searchRequest.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e}return h()(i,[{key:"editProfile",value:function(){if(this.props.userInfo){var t={accountId:this.props.userInfo.id,accountPhoneNumber:this.props.userInfo.phoneNumber,accountName:this.props.userInfo.name,accountDob:this.props.userInfo.dob,accountAddress:this.props.userInfo.address,accountPassword:this.props.userInfo.password,accountActive:this.props.userInfo.active,accountEmail:this.props.userInfo.email,accountRole:this.props.userInfo.role,accountGender:this.props.userInfo.gender,accountImageUrl:this.props.userInfo.image,accountTownCode:this.props.userInfo.townCode,accountDistrictCode:this.props.userInfo.districtCode};this.props.changeShowView&&this.props.changeShowView("AccountView"),this.props.changeShowView&&this.props.setSelectedAccount(t)}}},{key:"logOut",value:function(){this.props.changeShowView&&this.props.logOut()}},{key:"searchRequest",value:function(){var t=this,e=this.props.userInfo?this.props.searchRequest(this.state.requestId):"";this.setState({errorMessage:e,requestId:""}),setTimeout((function(){t.setState({errorMessage:""})}),2500)}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"render",value:function(){var t=this;return a.a.createElement(I.a,{style:z.headerContainer,resizeMode:"stretch"},a.a.createElement(T.a,{style:z.leftArea},a.a.createElement(k.a,{style:z.imageIcon,source:n(105)}),a.a.createElement(T.a,{style:z.leftContainer},a.a.createElement(T.a,{style:z.titleContainer},a.a.createElement(S.a,{style:{fontSize:25,fontWeight:"bold",color:"white"}},"MedTest")),a.a.createElement(T.a,{style:z.hotlineContainer},a.a.createElement(S.a,{style:{fontSize:14}},"Hotline: 1900561252")))),a.a.createElement(T.a,{style:z.middleArea},this.props.userInfo?a.a.createElement(T.a,null,a.a.createElement(L.a,{style:z.searchInputContainer,placeholder:"T\xecm x\xe9t nghi\u1ec7m",name:"requestId",onChange:this.handleChange,value:this.state.requestId,onSubmitEditing:function(){return t.searchRequest()}}),a.a.createElement(S.a,{style:{color:"white",padding:7}},this.state.errorMessage)):a.a.createElement(T.a,null)),a.a.createElement(T.a,{style:z.rightArea},this.props.userInfo?a.a.createElement(T.a,{style:z.rightContainer},a.a.createElement(b.a,{style:{},onPress:function(){return t.editProfile()}},a.a.createElement(k.a,{style:{width:100,height:100},source:{uri:this.props.userInfo?this.props.userInfo.image:""}})),a.a.createElement(T.a,{style:z.nameContainer},a.a.createElement(S.a,{style:{fontSize:14,color:"white"}},this.props.userInfo?this.props.userInfo.name:"")),a.a.createElement(b.a,{style:z.nameContainer,onPress:function(){return t.logOut()}},a.a.createElement(S.a,{style:{fontSize:14,color:"white"}},this.props.userInfo?"\u0110\u0103ng xu\u1ea5t":""," "))):null))}}]),i}(r.Component),z=i.a.create({headerContainer:{height:185,width:q,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"#25345D"},leftArea:{height:185,width:300,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"",padding:20},imageIcon:{width:100,height:100},leftContainer:{height:185,width:180,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"",paddingLeft:20},titleContainer:{width:100,alignItems:"flex-start",justifyContent:"center",backgroundColor:"",marginBottom:10},hotlineContainer:{height:35,width:150,alignItems:"center",justifyContent:"center",backgroundColor:"white",borderWidth:1,marginTop:10},middleArea:{height:185,width:q-600,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:10,backgroundColor:""},searchInputContainer:{height:30,width:q>1500?800:q-700,backgroundColor:"white",borderWidth:1,borderRadius:20,paddingLeft:20,marginTop:25},rightArea:{height:185,width:300,flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start",padding:10,backgroundColor:""},rightContainer:{height:175,width:200,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:0,backgroundColor:""},nameContainer:{height:30,width:140,alignItems:"center",justifyContent:"center",backgroundColor:""}});function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var U=function(t){f()(i,t);var e,r=(e=i,function(){var t,n=C()(e);if(O()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function i(t){var e;return l()(this,i),(e=r.call(this,t)).state={},e}return h()(i,[{key:"render",value:function(){return a.a.createElement(I.a,{style:W.footerContainer,resizeMode:"stretch"},a.a.createElement(T.a,{style:W.leftArea},a.a.createElement(T.a,{style:W.leftContainer},a.a.createElement(T.a,{style:W.titleContainer},a.a.createElement(S.a,{style:{fontSize:13,fontWeight:"bold",color:"white"}},"TR\u1ee4 S\u1ede H\xc0 N\u1ed8I")),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"159 B L\xea Thanh Ngh\u1ecb, Hai B\xe0 Tr\u01b0ng, H\xe0 N\u1ed9i")))),a.a.createElement(T.a,{style:W.middleArea},a.a.createElement(T.a,{style:W.middleContainer},a.a.createElement(T.a,{style:W.titleContainer},a.a.createElement(S.a,{style:{fontSize:13,fontWeight:"bold",color:"white"}},"CH\u1ecaU TR\xc1CH NHI\u1ec6M QU\u1ea2N L\xdd N\u1ed8I DUNG")),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"B\xe1c s\u0129 Nguy\u1ec5n Tr\u1ea7n Ki\xean")),a.a.createElement(T.a,{style:[W.titleContainer,{marginTop:15}]},a.a.createElement(S.a,{style:{fontSize:13,fontWeight:"bold",color:"white"}},"H\u1ee2P T\xc1C TRUY\u1ec0N TH\xd4NG")),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"Li\xean h\u1ec7: 096 159 1593")),a.a.createElement(T.a,{style:[W.titleContainer,{marginTop:15}]},a.a.createElement(S.a,{style:{fontSize:13,fontWeight:"bold",color:"white"}},"LI\xcaN H\u1ec6 QU\u1ea2NG C\xc1O")),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"medtest.default@gmail.com")))),a.a.createElement(T.a,{style:W.rightArea},a.a.createElement(T.a,{style:W.rightContainer},a.a.createElement(k.a,{style:W.imageIcon,source:n(110)}),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"T\u1ea7ng 17, 19, 20, 21 T\xf2a nh\xe0 Center Building - Hapulico Complex, S\u1ed1 1 Nguy\u1ec5n Huy T\u01b0\u1edfng, Thanh Xu\xe2n, H\xe0 N\u1ed9i.")),a.a.createElement(T.a,{style:W.textContainer},a.a.createElement(S.a,{style:{fontSize:10,color:"white"}},"Update: 30/4/2020 18:30")))))}}]),i}(r.Component),W=i.a.create({footerContainer:{height:200,width:q,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"#25345D"},leftArea:{height:200,width:500,flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"",padding:20},leftContainer:{height:"100%",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"",paddingLeft:100,paddingRight:50},middleArea:{height:200,width:500,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",padding:20,backgroundColor:""},middleContainer:{height:"100%",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"",paddingLeft:100,paddingRight:100},searchInputContainer:{height:30,width:800,backgroundColor:"white",borderWidth:1,borderRadius:20,paddingLeft:20,marginTop:25},rightArea:{height:200,width:500,flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start",padding:10,backgroundColor:""},rightContainer:{height:"100%",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",paddingLeft:50,paddingRight:100,backgroundColor:""},nameContainer:{height:30,width:140,alignItems:"center",justifyContent:"center",backgroundColor:""},imageIcon:{width:50,height:50,marginTop:5},titleContainer:{height:20,width:"100%",alignItems:"flex-start",justifyContent:"center",backgroundColor:""},textContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",marginTop:8}}),F=n(21);function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var J=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(G()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.onAccountPress=e.onAccountPress.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"onAccountPress",value:function(){var t={accountId:this.props.accountId,accountPhoneNumber:this.props.accountPhoneNumber,accountName:this.props.accountName,accountDob:this.props.accountDob,accountAddress:this.props.accountAddress,accountPassword:this.props.accountPassword,accountActive:this.props.accountActive,accountEmail:this.props.accountEmail,accountRole:this.props.accountRole,accountGender:this.props.accountGender,accountImageUrl:this.props.accountImageUrl,accountTownCode:this.props.accountTownCode,accountDistrictCode:this.props.accountDistrictCode};this.props.setSelectedAccount&&this.props.setSelectedAccount(t),this.props.changeShowView&&this.props.changeShowView("AccountView")}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,null,a.a.createElement(b.a,{style:H.accountListItem,onPress:function(){return t.onAccountPress()}},a.a.createElement(T.a,{style:H.accountNameContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.accountName)),a.a.createElement(T.a,{style:H.accountPhoneContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.accountPhoneNumber)),a.a.createElement(T.a,{style:H.accountRoleContainer},a.a.createElement(S.a,{style:{fontSize:17}},P(this.props.accountRole)))))}}]),r}(r.Component),H=i.a.create({accountListItem:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",paddingBottom:2},accountNameContainer:{margin:10,width:350,alignItems:"center",marginRight:150},accountPhoneContainer:{margin:10,width:200,marginRight:100,alignItems:"center"},accountRoleContainer:{margin:10,width:200,alignItems:"center"}});function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var X=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(_()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={Button1Selected:!0,Button2Selected:!1,Button3Selected:!1,Button4Selected:!1,Button4Selected:!1,accountSelected:"all",inputPhoneNumber:"",isSearch:!1,userList:e.props.userList?e.props.userList:[],dataChanged:!0},e.menuButtonPress=e.menuButtonPress.bind(d()(e)),e.getAccountShowList=e.getAccountShowList.bind(d()(e)),e.searchUser=e.searchUser.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e}return h()(r,[{key:"getAccountShowList",value:function(){if(this.state.isSearch){for(var t=[],e=this.state.userList.length-1;e>=0;)this.state.userList[e].phoneNumber!==this.state.inputPhoneNumber||"all"!=this.state.accountSelected&&this.state.userList[e].role!==this.state.accountSelected||t.push(this.state.userList[e]),e-=1;return t}if("all"==this.state.accountSelected)return this.state.userList;for(var n=[],r=this.state.userList.length-1;r>=0;)this.state.userList[r].role===this.state.accountSelected&&n.push(this.state.userList[r]),r-=1;return n}},{key:"menuButtonPress",value:function(t){var e=this;this.setState((function(n){return{Button1Selected:"1"==t,Button2Selected:"2"==t,Button3Selected:"3"==t,Button4Selected:"4"==t,Button5Selected:"5"==t,accountSelected:"1"==t?"all":"2"==t?"COORDINATOR":"3"==t?"NURSE":"4"==t?"CUSTOMER":"ADMIN",dataChanged:!e.state.dataChanged,isSearch:!1,inputPhoneNumber:""}}))}},{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{userList:n.props.userList,dataChanged:!n.state.dataChanged}}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"searchUser",value:function(){var t=this;this.setState((function(e){return{dataChanged:!t.state.dataChanged,isSearch:!0}}))}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:Y.articleListArea},a.a.createElement(T.a,{style:Y.accountListTopMenuArea},a.a.createElement(T.a,{style:Y.accountListTopMenuContainer},a.a.createElement(L.a,{style:Y.topMenuTextInput,placeholder:"T\xecm ki\u1ebfm t\xe0i kho\u1ea3n theo s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"inputPhoneNumber",onChange:this.handleChange,value:this.state.inputPhoneNumber,onSubmitEditing:function(){return t.searchUser()}}),a.a.createElement(b.a,{style:Y.createNewAccountButton,onPress:function(){return t.props.changeShowView?t.props.changeShowView("AccountCreateView"):null}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1ea1o t\xe0i kho\u1ea3n nh\xe2n vi\xean"))),a.a.createElement(T.a,{style:[Y.accountListTopMenuContainer,{}]},a.a.createElement(b.a,{style:[Y.topMenuButton,{borderWidth:this.state.Button1Selected?1:0,backgroundColor:this.state.Button1Selected?Q:"white"}],onPress:function(){return t.menuButtonPress("1")}},a.a.createElement(S.a,{style:Y.topMenuText},"T\u1ea5t c\u1ea3")),a.a.createElement(b.a,{style:[Y.topMenuButton,{borderWidth:this.state.Button2Selected?1:0,backgroundColor:this.state.Button2Selected?Q:"white"}],onPress:function(){return t.menuButtonPress("2")}},a.a.createElement(S.a,{style:Y.topMenuText},"\u0110i\u1ec1u ph\u1ed1i vi\xean")),a.a.createElement(b.a,{style:[Y.topMenuButton,{borderWidth:this.state.Button3Selected?1:0,backgroundColor:this.state.Button3Selected?Q:"white"}],onPress:function(){return t.menuButtonPress("3")}},a.a.createElement(S.a,{style:Y.topMenuText},"Y t\xe1")),a.a.createElement(b.a,{style:[Y.topMenuButton,{borderWidth:this.state.Button4Selected?1:0,backgroundColor:this.state.Button4Selected?Q:"white"}],onPress:function(){return t.menuButtonPress("4")}},a.a.createElement(S.a,{style:Y.topMenuText},"Kh\xe1ch h\xe0ng")),a.a.createElement(b.a,{style:[Y.topMenuButton,{borderWidth:this.state.Button5Selected?1:0,backgroundColor:this.state.Button5Selected?Q:"white"}],onPress:function(){return t.menuButtonPress("5")}},a.a.createElement(S.a,{style:Y.topMenuText},"Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"))),a.a.createElement(T.a,{style:Y.accountListTopMenuContainer},a.a.createElement(S.a,null,"S\u1ed1 l\u01b0\u1ee3ng: ",this.getAccountShowList()?this.getAccountShowList().length:"0"))),a.a.createElement(T.a,{style:Y.articleListFlatListArea},a.a.createElement(T.a,{style:Y.articleListFlatListTitleArea},a.a.createElement(T.a,{style:Y.articleListFlatListTitleContainer},a.a.createElement(T.a,{style:Y.articleListTitleNameContainer},a.a.createElement(S.a,{style:Y.articleListTitleText},"T\xean ng\u01b0\u1eddi d\xf9ng")),a.a.createElement(T.a,{style:Y.articleListTitlePhoneContainer},a.a.createElement(S.a,{style:Y.articleListTitleText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i")),a.a.createElement(T.a,{style:Y.articleListTitleRoleContainer},a.a.createElement(S.a,{style:Y.articleListTitleText},"V\u1ecb tr\xed")))),a.a.createElement(F.a,{style:Y.articleListFlatList,contentContainerStyle:{alignItems:"center",justifyContent:"flex-start"},showsVerticalScrollIndicator:!1,data:this.getAccountShowList(),extraData:this.state.dataChanged,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(T.a,null,a.a.createElement(J,{accountId:n.id,accountPhoneNumber:n.phoneNumber,accountName:n.name,accountDob:n.dob,accountAddress:n.address,accountPassword:n.password,accountActive:n.active,accountEmail:n.email,accountRole:n.role,accountGender:n.gender,accountImageUrl:n.image,accountTownCode:n.townCode,accountDistrictCode:n.districtCode,changeShowView:t.props.changeShowView?t.props.changeShowView:null,setSelectedAccount:t.props.setSelectedAccount?t.props.setSelectedAccount:null}))}}),a.a.createElement(T.a,{style:Y.accountRowContainer},a.a.createElement(S.a,{style:Y.rowTextError},0==this.getAccountShowList().length?"Kh\xf4ng c\xf3 t\xe0i kho\u1ea3n n\xe0o":""))))}}]),r}(r.Component),Q="#c0c0c0",Y=i.a.create({articleListArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},accountListTopMenuArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"",paddingBottom:40,paddingTop:10},accountListTopMenuContainer:{width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:10,paddingBottom:10},topMenuTextInput:{height:30,width:800,backgroundColor:"white",borderWidth:1,borderRadius:20,paddingLeft:20,marginTop:10},topMenuButton:{width:220,height:30,flexDirection:"column",alignItems:"center",justifyContent:"center"},createNewAccountButton:{width:240,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},articleListFlatListArea:{width:1100,flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},articleListFlatListTitleArea:{alignSelf:"stretch",width:1100,flexDirection:"row",alignItems:"center",justifyContent:"center"},articleListFlatListTitleContainer:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#c0c0c0"},articleListTitleNameContainer:{margin:10,width:350,alignItems:"center",marginRight:150},articleListTitlePhoneContainer:{margin:10,width:200,alignItems:"center",marginRight:100},articleListTitleRoleContainer:{margin:10,width:200,alignItems:"center"},articleListTitleText:{fontSize:17,fontWeight:"bold"},articleListFlatList:{width:1100,flex:1,flexDirection:"column",backgroundColor:"",paddingBottom:20},accountRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:40},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"}}),K=n(8),$=n(34);function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var tt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Z()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).selectPicture=function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap($.a());case 2:t=n.sent,console.log(t),t.cancelled||e.callApiUploadImage(t);case 5:case"end":return n.stop()}}),null,null,null,Promise)},e.state={accountName:"",accountPhoneNumber:"",accountEmail:"",accountDob:"",accountGender:"",accountPassword:"",accountRePassword:"",districtList:e.props.districtList?e.props.districtList:[],townList:e.props.districtList?e.props.districtList[0].listTown:[],districtSelected:e.props.districtList?e.props.districtList[0].districtCode:"none",townSelected:e.props.districtList&&e.props.districtList[0].listTown[0]?e.props.districtList[0].listTown[0].townCode:"none",accountAddress:"",accountRole:"NURSE",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate(),accountImage:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",error:"",errorList:["","T\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i c\xf3 m\u01b0\u1eddi s\u1ed1","\u0110\u1ecba ch\u1ec9 email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng","M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xed t\u1ef1","X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng v\u1edbi m\u1eadt kh\u1ea9u ","\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"]},e.handleChange=e.handleChange.bind(d()(e)),e.onDistrictChange=e.onDistrictChange.bind(d()(e)),e.createNumberPickerList=e.createNumberPickerList.bind(d()(e)),e.getNumberOfDayInMonth=e.getNumberOfDayInMonth.bind(d()(e)),e.createAccount=e.createAccount.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState((function(e){return{districtList:t.props.districtList?t.props.districtList:[],townList:t.props.districtList?t.props.districtList[0].listTown:[],districtSelected:t.props.districtList?t.props.districtList[0].districtCode:"none",townSelected:t.props.districtList&&t.props.districtList[0].listTown[0]?t.props.districtList[0].listTown[0].townCode:"none",accountImage:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",error:""}}))}},{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{districtList:n.props.districtList?n.props.districtList:[],townList:n.props.districtList?n.props.districtList[0].listTown:[],districtSelected:n.props.districtList?n.props.districtList[0].districtCode:"none",townSelected:n.props.districtList&&n.props.districtList[0].listTown[0]?n.props.districtList[0].listTown[0].townCode:"none",accountImage:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",error:""}}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"onDistrictChange",value:function(t){this.setState({districtSelected:t});for(var e=this.state.districtList.length-1;e>=0;)this.state.districtList[e].districtCode==t&&(this.setState({townList:this.state.districtList[e].listTown,townSelected:this.state.districtList[e].listTown[0]?this.state.districtList[e].listTown[0].townCode:"none"}),e=0),e-=1}},{key:"getFebDay",value:function(){var t=this.state.year;return t%400==0?29:t%100==0?28:t%4==0?29:28}},{key:"getNumberOfDayInMonth",value:function(t){switch(t){case"1":case"3":case"5":case"7":case"8":case"10":case"12":return 31;case"4":case"6":case"9":case"11":return 30;case"2":return this.getFebDay()}}},{key:"createNumberPickerList",value:function(t,e,n){var r=[];if(n)for(var i=t;i<=e;i++)r.push(a.a.createElement(K.a.Item,{label:i.toString(),value:i.toString()}));else for(var o=e;o>=t;o--)r.push(a.a.createElement(K.a.Item,{label:o.toString(),value:o.toString()}));return r}},{key:"getDob",value:function(){var t="";if(parseInt(this.state.month)<10){if(parseInt(this.state.day)<10)return"0"+this.state.day+"/0"+this.state.month+"/"+this.state.year;t=this.state.day+"/0"+this.state.month+"/"+this.state.year}else{if(parseInt(this.state.day)<10)return"0"+this.state.day+"/"+this.state.month+"/"+this.state.year;t=this.state.day+"/"+this.state.month+"/"+this.state.year}return t}},{key:"createAccount",value:function(){this.checkValid()&&this.callApiCreateAccount()}},{key:"checkValid",value:function(){var t=this;return""==this.state.accountName?this.setState((function(e){return{error:t.state.errorList[1]}})):""==this.state.accountPhoneNumber||this.state.accountPhoneNumber.length<10?this.setState((function(e){return{error:t.state.errorList[2]}})):""==this.state.accountEmail?this.setState((function(e){return{error:t.state.errorList[3]}})):""==this.state.accountPassword||this.state.accountPassword.length<6?this.setState((function(e){return{error:t.state.errorList[4]}})):this.state.accountRePassword!=this.state.accountPassword?this.setState((function(e){return{error:t.state.errorList[5]}})):""==this.state.accountAddress?this.setState((function(e){return{error:t.state.errorList[6]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiCreateAccount",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/users/create-employee",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({name:this.state.accountName,phoneNumber:this.state.accountPhoneNumber,email:this.state.accountEmail,dob:R(this.getDob()),gender:this.state.accountGender,password:this.state.accountPassword,districtCode:this.state.districtSelected,townCode:this.state.townSelected,address:this.state.accountAddress,role:this.state.accountRole,image:this.state.accountImage})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(!e.message&&(n=!0)),n?t.props.changeToAccountViewScreen(e):t.setState({error:e.message})}),(function(t){console.log("error:"+t)}))}},{key:"callApiUploadImage",value:function(t){var e=this;fetch("https://medtest-backend.herokuapp.com/uploadImage",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({file:t.uri})}).then((function(t){return t.json()})).then((function(t){console.log("result:"+JSON.stringify(t)),e.setState({accountImage:t.uri})}),(function(t){console.log("error:"+t)}))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:et.accountCreateViewArea},a.a.createElement(T.a,{style:et.accountCreateMenuArea},a.a.createElement(S.a,{style:[et.rowText,{fontSize:22,fontWeight:"bold",width:"100%"}]},"T\u1ea1o nh\xe2n vi\xean m\u1edbi: ")),a.a.createElement(T.a,{style:et.accountCreateArea},a.a.createElement(T.a,{style:et.accountCreateContainer},a.a.createElement(T.a,{style:et.imagePreviewArea},a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText}," "),a.a.createElement(b.a,{onPress:function(){return t.selectPicture()}},a.a.createElement(k.a,{style:et.imagePreview,source:{uri:this.state.accountImage}})))),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"T\xean nh\xe2n vi\xean:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"Nh\u1eadp t\xean nh\xe2n vi\xean",name:"accountName",onChange:this.handleChange,value:this.state.accountName})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a nh\xe2n vi\xean",name:"accountPhoneNumber",onChange:this.handleChange,value:this.state.accountPhoneNumber})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"\u0110\u1ecba ch\u1ec9 email:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 email c\u1ee7a nh\xe2n vi\xean",name:"accountEmail",onChange:this.handleChange,value:this.state.accountEmail})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"Ng\xe0y sinh: "),a.a.createElement(K.a,{selectedValue:this.state.day,style:[et.accountTypeDropDown,{width:50,marginRight:15}],onValueChange:function(e,n){return t.setState({day:e})}},this.createNumberPickerList(1,this.getNumberOfDayInMonth(this.state.month.toString()),!0)),a.a.createElement(K.a,{selectedValue:this.state.month,style:[et.accountTypeDropDown,{width:50,marginRight:15}],onValueChange:function(e,n){return t.setState({day:t.getNumberOfDayInMonth(e)<t.state.day?"1":t.state.day,month:e})}},this.createNumberPickerList(1,12,!0)),a.a.createElement(K.a,{selectedValue:this.state.year,style:[et.accountTypeDropDown,{width:80}],onValueChange:function(e,n){return t.setState({year:e})}},this.createNumberPickerList(1920,(new Date).getFullYear(),!1))),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"Gi\u1edbi t\xednh:"),a.a.createElement(K.a,{selectedValue:this.state.accountGender,style:et.accountTypeDropDown,onValueChange:function(e,n){return t.setState({accountGender:e})}},a.a.createElement(K.a.Item,{label:"Nam",value:"1"}),a.a.createElement(K.a.Item,{label:"N\u1eef",value:"0"}))),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"M\u1eadt kh\u1ea9u:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",name:"accountPassword",onChange:this.handleChange,value:this.state.accountPassword,secureTextEntry:!0})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"X\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u",name:"accountRePassword",onChange:this.handleChange,value:this.state.accountRePassword,secureTextEntry:!0})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"Qu\u1eadn/huy\u1ec7n:"),a.a.createElement(K.a,{selectedValue:this.state.districtSelected,style:et.accountTypeDropDown,onValueChange:function(e,n){return t.onDistrictChange(e)}},this.state.districtList?this.state.districtList.map((function(t){return a.a.createElement(K.a.Item,{label:t.districtName,value:t.districtCode})})):null)),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"Ph\u01b0\u1eddng/x\xe3:"),a.a.createElement(K.a,{selectedValue:this.state.townSelected,style:et.accountTypeDropDown,onValueChange:function(e,n){return t.setState({townSelected:e})}},this.state.townList?this.state.townList.map((function(t){return a.a.createElement(K.a.Item,{label:t.townName,value:t.townCode})})):null)),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft:"),a.a.createElement(L.a,{style:et.rowTextInput,placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 chi ti\u1ebft: s\u1ed1 nh\xe0, \u0111\u01b0\u1eddng, th\xf4n, ..",name:"accountAddress",onChange:this.handleChange,value:this.state.accountAddress})),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowText},"V\u1ecb tr\xed nh\xe2n vi\xean:"),a.a.createElement(K.a,{selectedValue:this.state.accountRole,style:et.accountTypeDropDown,onValueChange:function(e,n){return t.setState({accountRole:e})}},a.a.createElement(K.a.Item,{label:"Y t\xe1",value:"NURSE"}),a.a.createElement(K.a.Item,{label:"\u0110i\u1ec1u ph\u1ed1i vi\xean",value:"COORDINATOR"}),a.a.createElement(K.a.Item,{label:"Qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng",value:"ADMIN"}))),a.a.createElement(T.a,{style:et.accountCreateRowContainer},a.a.createElement(S.a,{style:et.rowTextError},this.state.error)))),a.a.createElement(b.a,{style:et.accountCreateConfirmButton,onPress:function(){return t.createAccount()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1ea1o t\xe0i kho\u1ea3n nh\xe2n vi\xean")))}}]),r}(r.Component),et=i.a.create({accountCreateViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},accountCreateMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:50,paddingBottom:50,marginTop:0,marginBottom:10},accountCreateArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",marginBottom:10},accountCreateContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",paddingTop:30,paddingLeft:50,paddingRight:50,paddingBottom:0},accountCreateRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:170,fontSize:17,paddingTop:3,fontWeight:"bold"},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"},accountTypeDropDown:{alignSelf:"stretch",padding:3,width:500,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},createTestButton:{height:30,width:200,backgroundColor:"#e6e6e6",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:100},accountListFlatListArea:{width:"100%",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},accountListFlatList:{width:"100%",flex:1,flexDirection:"column",backgroundColor:"",padding:20},accountCreateConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginTop:30,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreviewArea:{alignSelf:"stretch",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",margin:0},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreview:{width:200,height:200,backgroundColor:""}});function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var rt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(nt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).selectPicture=function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap($.a());case 2:t=n.sent,console.log(t),t.cancelled||e.callApiUploadImage(t);case 5:case"end":return n.stop()}}),null,null,null,Promise)},e.state={accountName:"",accountPhoneNumber:"",accountEmail:"",accountDob:"",accountGender:"",accountPassword:"",accountRePassword:"",districtList:e.props.districtList?e.props.districtList:[],townList:e.props.districtList?e.props.districtList[0].listTown:[],districtSelected:e.props.districtList?e.props.districtList[0].districtCode:"none",townSelected:e.props.districtList&&e.props.districtList[0].listTown[0]?e.props.districtList[0].listTown[0].townCode:"none",accountAddress:"",accountRole:"",accountActive:"",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate(),accountImage:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",error:"",errorList:["","T\xean ch\u1ee7 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng","\u0110\u1ecba ch\u1ec9 email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng","\u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"]},e.handleChange=e.handleChange.bind(d()(e)),e.onDistrictChange=e.onDistrictChange.bind(d()(e)),e.createNumberPickerList=e.createNumberPickerList.bind(d()(e)),e.getNumberOfDayInMonth=e.getNumberOfDayInMonth.bind(d()(e)),e.updateAccountInformation=e.updateAccountInformation.bind(d()(e)),e.resetPassword=e.resetPassword.bind(d()(e)),e.checkCurrentUser=e.checkCurrentUser.bind(d()(e)),e.checkAdmin=e.checkAdmin.bind(d()(e)),e.changePassword=e.changePassword.bind(d()(e)),e.getDob=e.getDob.bind(d()(e)),e.getDistrictName=e.getDistrictName.bind(d()(e)),e.getTownName=e.getTownName.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState((function(e){return{districtList:t.props.districtList?t.props.districtList:[],townList:t.props.districtList?t.props.districtList[0].listTown:[],districtSelected:t.props.account?t.props.account.accountDistrictCode:t.props.districtList?t.props.districtList[0].districtCode:"none",townSelected:t.props.account?t.props.account.accountTownCode:t.props.districtList&&t.props.districtList[0].listTown[0]?t.props.districtList[0].listTown[0].townCode:"none",accountName:t.props.account?t.props.account.accountName:"",accountPhoneNumber:t.props.account?t.props.account.accountPhoneNumber:"",accountEmail:t.props.account?t.props.account.accountEmail:"",accountDob:t.props.account?t.props.account.accountDob:"",accountGender:t.props.account?t.props.account.accountGender:"",accountRole:t.props.account?t.props.account.accountRole:"",accountAddress:t.props.account?t.props.account.accountAddress:"",accountActive:t.props.account?t.props.account.accountActive:"",accountImage:t.props.account?t.props.account.accountImageUrl:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",year:t.props.account&&t.props.account.accountDob?t.props.account.accountDob.substring(0,4):"2020",month:t.props.account&&t.props.account.accountDob?parseInt(t.props.account.accountDob.substring(5,7)).toString():"2020",day:t.props.account&&t.props.account.accountDob?parseInt(t.props.account.accountDob.substring(8,10)).toString():"2020",error:""}}))}},{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{districtList:n.props.districtList?n.props.districtList:[],townList:n.props.districtList?n.props.districtList[0].listTown:[],districtSelected:n.props.account?n.props.account.accountDistrictCode:n.props.districtList?n.props.districtList[0].districtCode:"none",townSelected:n.props.account?n.props.account.accountTownCode:n.props.districtList&&n.props.districtList[0].listTown[0]?n.props.districtList[0].listTown[0].townCode:"none",accountName:n.props.account?n.props.account.accountName:"",accountPhoneNumber:n.props.account?n.props.account.accountPhoneNumber:"",accountEmail:n.props.account?n.props.account.accountEmail:"",accountDob:n.props.account?n.props.account.accountDob:"",accountGender:n.props.account?n.props.account.accountGender:"",accountRole:n.props.account?n.props.account.accountRole:"",accountAddress:n.props.account?n.props.account.accountAddress:"",accountActive:n.props.account?n.props.account.accountActive:"",accountImage:n.props.account?n.props.account.accountImageUrl:"https://www.kindpng.com/picc/m/10-104902_simple-user-icon-user-icon-white-png-transparent.png",year:n.props.account&&n.props.account.accountDob?n.props.account.accountDob.substring(0,4):"2020",month:n.props.account&&n.props.account.accountDob?parseInt(n.props.account.accountDob.substring(5,7)).toString():"2020",day:n.props.account&&n.props.account.accountDob?parseInt(n.props.account.accountDob.substring(8,10)).toString():"2020",error:""}}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"onDistrictChange",value:function(t){this.setState({districtSelected:t});for(var e=this.state.districtList.length-1;e>=0;)this.state.districtList[e].districtCode==t&&(this.setState({townList:this.state.districtList[e].listTown,townSelected:this.state.districtList[e].listTown[0]?this.state.districtList[e].listTown[0].townCode:"none"}),e=0),e-=1}},{key:"getFebDay",value:function(){var t=this.state.year;return t%400==0?29:t%100==0?28:t%4==0?29:28}},{key:"getNumberOfDayInMonth",value:function(t){switch(t){case"1":case"3":case"5":case"7":case"8":case"10":case"12":return 31;case"4":case"6":case"9":case"11":return 30;case"2":return this.getFebDay()}}},{key:"createNumberPickerList",value:function(t,e,n){var r=[];if(n)for(var i=t;i<=e;i++)r.push(a.a.createElement(K.a.Item,{label:i.toString(),value:i.toString()}));else for(var o=e;o>=t;o--)r.push(a.a.createElement(K.a.Item,{label:o.toString(),value:o.toString()}));return r}},{key:"getDob",value:function(){var t="";if(parseInt(this.state.month)<10){if(parseInt(this.state.day)<10)return"0"+this.state.day+"/0"+this.state.month+"/"+this.state.year;t=this.state.day+"/0"+this.state.month+"/"+this.state.year}else{if(parseInt(this.state.day)<10)return"0"+this.state.day+"/"+this.state.month+"/"+this.state.year;t=this.state.day+"/"+this.state.month+"/"+this.state.year}return t}},{key:"resetPassword",value:function(){var t=this;console.log(this.props.account.accountId),console.log(this.props.userInfo.id),fetch("https://medtest-backend.herokuapp.com/users/reset-password/"+this.props.account.accountId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({userProcessingID:this.props.userInfo.id})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(e.message&&(n=!0)),n&&t.props.changeShowView("AccountListView")}),(function(t){console.log("error:"+t)}))}},{key:"changePassword",value:function(){this.props.changeShowView("AccountChangePasswordView")}},{key:"updateAccountInformation",value:function(){this.checkValid()&&this.callApiUpdateAccountInfo()}},{key:"checkValid",value:function(){var t=this;return""==this.state.accountName?this.setState((function(e){return{error:t.state.errorList[1]}})):""==this.state.accountEmail?this.setState((function(e){return{error:t.state.errorList[2]}})):""==this.state.accountAddress?this.setState((function(e){return{error:t.state.errorList[3]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiUpdateAccountInfo",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/users/update-user/"+this.props.account.accountId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({name:this.state.accountName,dob:R(this.getDob()),address:this.state.accountAddress,active:this.state.accountActive,email:this.state.accountEmail,gender:this.state.accountGender,townCode:this.state.townSelected,districtCode:this.state.districtSelected,image:this.state.accountImage})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(!e.message&&(n=!0)),n?t.checkCurrentUser()&&t.props.updateUserInfo(e):t.setState({error:e.message})}),(function(t){console.log("error:"+t)}))}},{key:"callApiUploadImage",value:function(t){var e=this;fetch("https://medtest-backend.herokuapp.com/uploadImage",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({file:t.uri})}).then((function(t){return t.json()})).then((function(t){e.setState({accountImage:t.uri})}),(function(t){console.log("error:"+t)}))}},{key:"checkCurrentUser",value:function(){return this.props.account.accountId==this.props.userInfo.id}},{key:"checkAdmin",value:function(){return"ADMIN"==this.props.userInfo.role}},{key:"getDistrictName",value:function(){for(var t=this.state.districtList.length-1;t>=0;){if(this.state.districtList[t].districtCode==this.state.districtSelected)return this.state.districtList[t].districtName;t-=1}return""}},{key:"getTownName",value:function(){for(var t=this.state.districtList.length-1;t>=0;){for(var e=this.state.districtList[t].listTown.length-1;e>=0;){if(this.state.districtList[t].listTown[e].townCode==this.state.townSelected)return this.state.districtList[t].listTown[e].townName;e-=1}t-=1}return""}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:at.accountViewArea},a.a.createElement(T.a,{style:at.accountMenuArea},a.a.createElement(S.a,{style:[at.rowText,{fontSize:22,fontWeight:"bold",width:"100%"}]},"Ch\u1ec9nh s\u1eeda th\xf4ng tin nh\xe2n vi\xean: ")),a.a.createElement(T.a,{style:at.accountArea},a.a.createElement(T.a,{style:at.accountContainer},a.a.createElement(T.a,{style:at.imagePreviewArea},a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText}," "),a.a.createElement(b.a,{onPress:function(){return t.checkAdmin()?t.selectPicture():null}},a.a.createElement(k.a,{style:at.imagePreview,source:{uri:this.state.accountImage}})))),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"T\xean nh\xe2n vi\xean:"),this.checkAdmin()?a.a.createElement(L.a,{style:at.rowTextInput,placeholder:"Nh\u1eadp t\xean nh\xe2n vi\xean",name:"accountName",onChange:this.handleChange,value:this.state.accountName}):a.a.createElement(S.a,{style:at.rowTextLong},this.state.accountName)),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:at.rowTextLong},this.state.accountPhoneNumber)),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"\u0110\u1ecba ch\u1ec9 email:"),this.checkAdmin()?a.a.createElement(L.a,{style:at.rowTextInput,placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 email c\u1ee7a nh\xe2n vi\xean",name:"accountEmail",onChange:this.handleChange,value:this.state.accountEmail}):a.a.createElement(S.a,{style:at.rowTextLong},this.state.accountEmail)),this.checkAdmin()?a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Ng\xe0y sinh: "),a.a.createElement(K.a,{selectedValue:this.state.day,style:[at.accountTypeDropDown,{width:50,marginRight:15}],onValueChange:function(e,n){return t.setState({day:e})}},this.createNumberPickerList(1,this.getNumberOfDayInMonth(this.state.month.toString()),!0)),a.a.createElement(K.a,{selectedValue:this.state.month,style:[at.accountTypeDropDown,{width:50,marginRight:15}],onValueChange:function(e,n){return t.setState({day:t.getNumberOfDayInMonth(e)<t.state.day?"1":t.state.day,month:e})}},this.createNumberPickerList(1,12,!0)),a.a.createElement(K.a,{selectedValue:this.state.year,style:[at.accountTypeDropDown,{width:80}],onValueChange:function(e,n){return t.setState({year:e})}},this.createNumberPickerList(1920,2020,!1))):a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Ng\xe0y sinh: "),a.a.createElement(S.a,{style:at.rowTextLong},this.getDob())),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Gi\u1edbi t\xednh:"),this.checkAdmin()?a.a.createElement(K.a,{selectedValue:this.state.accountGender,style:at.accountTypeDropDown,onValueChange:function(e,n){return t.setState({accountGender:e})}},a.a.createElement(K.a.Item,{label:"Nam",value:"1"}),a.a.createElement(K.a.Item,{label:"N\u1eef",value:"0"})):a.a.createElement(S.a,{style:at.rowTextLong},"1"==this.state.accountGender?"Nam":"N\u1eef")),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Qu\u1eadn/huy\u1ec7n:"),this.checkAdmin()?a.a.createElement(K.a,{selectedValue:this.state.districtSelected,style:at.accountTypeDropDown,onValueChange:function(e,n){return t.onDistrictChange(e)}},this.state.districtList?this.state.districtList.map((function(t){return a.a.createElement(K.a.Item,{label:t.districtName,value:t.districtCode})})):null):a.a.createElement(S.a,{style:at.rowTextLong},this.getDistrictName())),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Ph\u01b0\u1eddng/x\xe3:"),this.checkAdmin()?a.a.createElement(K.a,{selectedValue:this.state.townSelected,style:at.accountTypeDropDown,onValueChange:function(e,n){return t.setState({townSelected:e})}},this.state.townList?this.state.townList.map((function(t){return a.a.createElement(K.a.Item,{label:t.townName,value:t.townCode})})):null):a.a.createElement(S.a,{style:at.rowTextLong},this.getTownName())),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft:"),this.checkAdmin()?a.a.createElement(L.a,{style:at.rowTextInput,placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 chi ti\u1ebft: s\u1ed1 nh\xe0, \u0111\u01b0\u1eddng, th\xf4n, ..",name:"accountAddress",onChange:this.handleChange,value:this.state.accountAddress}):a.a.createElement(S.a,{style:at.rowTextLong},this.state.accountAddress)),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"V\u1ecb tr\xed nh\xe2n vi\xean:"),a.a.createElement(S.a,{style:at.rowTextLong},P(this.state.accountRole))),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowText},"Tr\u1ea1ng th\xe1i:"),this.checkAdmin()?a.a.createElement(K.a,{selectedValue:this.state.accountActive,style:at.accountTypeDropDown,onValueChange:function(e,n){return t.setState({accountActive:e})}},a.a.createElement(K.a.Item,{label:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",value:"1"}),a.a.createElement(K.a.Item,{label:"B\u1ecb kh\xf3a",value:"0"})):a.a.createElement(S.a,{style:at.rowTextLong},"1"==this.state.accountActive?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kh\xf3a")),a.a.createElement(T.a,{style:at.accountRowContainer},a.a.createElement(S.a,{style:at.rowTextError},this.state.error))),a.a.createElement(T.a,{style:at.buttonArea},this.checkCurrentUser()?a.a.createElement(b.a,{style:at.button,onPress:function(){return t.changePassword()}},a.a.createElement(S.a,{style:{color:"white"}},"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u")):a.a.createElement(b.a,{style:at.button,onPress:function(){return t.resetPassword()}},a.a.createElement(S.a,{style:{color:"white"}},"\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u")),this.checkAdmin()?a.a.createElement(b.a,{style:at.button,onPress:function(){return t.updateAccountInformation()}},a.a.createElement(S.a,{style:{color:"white"}},"L\u01b0u thay \u0111\u1ed5i")):a.a.createElement(T.a,null))))}}]),r}(r.Component),at=i.a.create({accountViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},accountMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:50,paddingBottom:50,marginTop:0,marginBottom:10},accountArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",marginBottom:10},accountContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:30,paddingLeft:50,paddingRight:50,paddingBottom:15},accountRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:170,fontSize:17,paddingTop:3,fontWeight:"bold"},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17,paddingTop:3},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"},accountTypeDropDown:{alignSelf:"stretch",padding:3,width:500,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},createTestButton:{height:30,width:200,backgroundColor:"#e6e6e6",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:100},accountListFlatListArea:{width:"100%",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},accountListFlatList:{width:"100%",flex:1,flexDirection:"column",backgroundColor:"",padding:20},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:30,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreviewArea:{alignSelf:"stretch",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",margin:0},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreview:{width:200,height:200,backgroundColor:""}});function it(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ot=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(it()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={accountName:"",accountPhoneNumber:"",accountOldPassword:"",accountPassword:"",accountRePassword:"",error:"",errorList:["","M\u1eadt kh\u1ea9u c\u0169 ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xed t\u1ef1","M\u1eadt kh\u1ea9u m\u1edbi ph\u1ea3i c\xf3 \xedt nh\u1ea5t 6 k\xed t\u1ef1","X\xe1c nh\u1eadn m\u1edbi m\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng v\u1edbi m\u1eadt kh\u1ea9u "]},e.handleChange=e.handleChange.bind(d()(e)),e.changePassword=e.changePassword.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState((function(e){return{accountName:t.props.account?t.props.account.accountName:"",accountPhoneNumber:t.props.account?t.props.account.accountPhoneNumber:"",error:""}}))}},{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{accountName:n.props.account?n.props.account.accountName:"",accountPhoneNumber:n.props.account?n.props.account.accountPhoneNumber:"",error:""}}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"changePassword",value:function(){this.checkValid()&&this.callApiChangePassword()}},{key:"checkAdmin",value:function(){return"ADMIN"==this.props.userInfo.role}},{key:"checkValid",value:function(){var t=this;return""==this.state.accountOldPassword||this.state.accountOldPassword.length<6?this.setState((function(e){return{error:t.state.errorList[1]}})):""==this.state.accountPassword||this.state.accountPassword.length<6?this.setState((function(e){return{error:t.state.errorList[2]}})):this.state.accountRePassword!=this.state.accountPassword?this.setState((function(e){return{error:t.state.errorList[3]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiChangePassword",value:function(){var t=this;console.log(this.props.userInfo.id);var e="";e=this.checkAdmin()?"https://medtest-backend.herokuapp.com/users/admin/change-password/"+this.props.userInfo.id:"https://medtest-backend.herokuapp.com/users/coordinators/change-password/"+this.props.userInfo.id,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({oldPassword:this.state.accountOldPassword,newPassword:this.state.accountPassword})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(e.message&&("Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!"==e.message&&(n=!0))),n?t.props.changeShowView("AccountView"):t.setState({error:e.message})}),(function(t){console.log("error:"+t)}))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:st.accountCreateViewArea},a.a.createElement(T.a,{style:st.accountCreateMenuArea},a.a.createElement(S.a,{style:[st.rowText,{fontSize:22,fontWeight:"bold",width:"100%"}]},"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u:")),a.a.createElement(T.a,{style:st.accountCreateArea},a.a.createElement(T.a,{style:st.accountCreateContainer},a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowText},"T\xean ng\u01b0\u1eddi d\xf9ng:"),a.a.createElement(S.a,{style:st.rowTextLong},this.state.accountName)),a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:st.rowText},this.state.accountPhoneNumber)),a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowText},"M\u1eadt kh\u1ea9u c\u0169:"),a.a.createElement(L.a,{style:st.rowTextInput,placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u c\u0169",name:"accountOldPassword",onChange:this.handleChange,value:this.state.accountOldPassword,secureTextEntry:!0})),a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowText},"M\u1eadt kh\u1ea9u m\u1edbi:"),a.a.createElement(L.a,{style:st.rowTextInput,placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi",name:"accountPassword",onChange:this.handleChange,value:this.state.accountPassword,secureTextEntry:!0})),a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowText},"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u:"),a.a.createElement(L.a,{style:st.rowTextInput,placeholder:"X\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u",name:"accountRePassword",onChange:this.handleChange,value:this.state.accountRePassword,secureTextEntry:!0})),a.a.createElement(T.a,{style:st.accountCreateRowContainer},a.a.createElement(S.a,{style:st.rowTextError},this.state.error)))),a.a.createElement(b.a,{style:st.accountCreateConfirmButton,onPress:function(){return t.changePassword()}},a.a.createElement(S.a,{style:{color:"white"}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u")))}}]),r}(r.Component),st=i.a.create({accountCreateViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},accountCreateMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:50,paddingBottom:50,marginTop:0,marginBottom:10},accountCreateArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",marginBottom:10},accountCreateContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",paddingTop:30,paddingLeft:50,paddingRight:50,paddingBottom:0},accountCreateRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:170,fontSize:17,paddingTop:3},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17,paddingTop:3},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"},accountTypeDropDown:{alignSelf:"stretch",padding:3,width:500,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},createTestButton:{height:30,width:200,backgroundColor:"#e6e6e6",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:100},accountListFlatListArea:{width:"100%",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},accountListFlatList:{width:"100%",flex:1,flexDirection:"column",backgroundColor:"",padding:20},accountCreateConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginTop:30,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var lt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ct()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.onAppointmentPress=e.onAppointmentPress.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"onAppointmentPress",value:function(){var t={appointmentId:this.props.appointmentId,appointmentCreatedTime:this.props.appointmentCreatedTime,customerName:this.props.customerName,customerPhoneNumber:this.props.customerPhoneNumber,customerDOB:this.props.customerDOB,appointmentMeetingTime:this.props.appointmentMeetingTime,appointmentStatus:this.props.appointmentStatus};this.props.setSelectedAppointment&&this.props.setSelectedAppointment(t),this.props.changeShowView&&this.props.changeShowView("AppointmentView")}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,null,a.a.createElement(b.a,{style:ut.appointmentListItem,onPress:function(){return t.onAppointmentPress()}},a.a.createElement(T.a,{style:[ut.appointmentTextContainer,{marginTop:5}]},a.a.createElement(T.a,null,a.a.createElement(S.a,{style:{fontSize:17,color:"#25345D",fontWeight:"bold"}},"#",this.props.appointmentId))),a.a.createElement(T.a,{style:ut.appointmentTextContainer},a.a.createElement(T.a,{style:ut.appointmentListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.customerName)),a.a.createElement(T.a,{style:[ut.appointmentListSecondColumnContainer,{borderRadius:1,borderStyle:"dashed"}]},a.a.createElement(S.a,{style:{fontSize:17}},A(this.props.appointmentCreatedTime)+"   "+D(this.props.appointmentCreatedTime))),a.a.createElement(T.a,null,a.a.createElement(S.a,{style:{fontSize:15}},"Khung gi\u1edd h\u1eb9n: ",D(this.props.appointmentMeetingTime)))),a.a.createElement(T.a,{style:[ut.appointmentTextContainer,{marginBottom:10}]},a.a.createElement(T.a,{style:ut.appointmentListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:  ",this.props.customerPhoneNumber)),a.a.createElement(T.a,{style:ut.appointmentListSecondColumnContainer},a.a.createElement(S.a,{style:{fontSize:17,color:"#0c59cf"}},V(this.props.appointmentStatus))),a.a.createElement(T.a,null,a.a.createElement(S.a,{style:{fontSize:15}},"Ng\xe0y h\u1eb9n: ",A(this.props.appointmentMeetingTime))))))}}]),r}(r.Component),ut=i.a.create({appointmentListItem:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingBottom:2,borderRadius:10,marginBottom:20},appointmentTextContainer:{alignSelf:"stretch",width:1100,flexDirection:"row",alignItems:"flex-start",paddingLeft:10,paddingRight:10,paddingBottom:3,paddingTop:3},appointmentListFirstColumnContainer:{width:250},appointmentListSecondColumnContainer:{width:200,marginLeft:20,marginRight:50,flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1}});function ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var pt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ht()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={districtsList:e.props.districtList,statusSelected:"all",districtSelected:"all",dataChanged:!0,testsList:e.props.testsList,appointmentList:e.props.appointmentList},e.getAppointmentShowList=e.getAppointmentShowList.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{appointmentList:n.props.appointmentList,districtsList:n.props.districtList,dataChanged:!n.state.dataChanged}}))}},{key:"getAppointmentShowList",value:function(){if("all"==this.state.statusSelected){if("all"==this.state.districtSelected)return this.state.appointmentList;for(var t=[],e=this.state.appointmentList.length-1;e>=0;)this.state.appointmentList[e].requestDistrictID===this.state.districtSelected&&t.push(this.state.appointmentList[e]),e-=1;return t}if("all"==this.state.districtSelected){for(var n=[],r=this.state.appointmentList.length-1;r>=0;)this.state.appointmentList[r].appointment_status===this.state.statusSelected&&n.push(this.state.appointmentList[r]),r-=1;return n}for(var a=[],i=this.state.appointmentList.length-1;i>=0;)this.state.appointmentList[i].appointment_status===this.state.statusSelected&&this.state.appointmentList[i].requestDistrictID===this.state.districtSelected&&a.push(this.state.appointmentList[i]),i-=1;return a}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:dt.appointmentListArea},a.a.createElement(T.a,{style:dt.appointmentListTopMenuArea},a.a.createElement(T.a,{style:dt.appointmentListTopMenuContainer},a.a.createElement(S.a,{style:{fontWeight:"bold"}},"Tr\u1ea1ng th\xe1i: "),a.a.createElement(K.a,{selectedValue:this.state.statusSelected,style:[dt.appointmentTypeDropdown,{width:360}],onValueChange:function(e,n){return t.setState({statusSelected:e,dataChanged:!t.state.dataChanged})}},a.a.createElement(K.a.Item,{label:"T\u1ea5t c\u1ea3",value:"all"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111ang \u0111\u1ee3i x\u1eed l\xfd",value:"pending"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn",value:"accepted"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 b\u1ecb t\u1eeb ch\u1ed1i",value:"rejected"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 b\u1ecb h\u1ee7y",value:"canceled"}))),a.a.createElement(T.a,{style:dt.appointmentListTopMenuContainer},a.a.createElement(S.a,null,"S\u1ed1 l\u01b0\u1ee3ng: ",this.getAppointmentShowList()?this.getAppointmentShowList().length:"0"))),a.a.createElement(T.a,{style:dt.appointmentListFlatListArea},a.a.createElement(F.a,{style:dt.appointmentListFlatList,contentContainerStyle:{alignItems:"center",justifyContent:"flex-start"},showsVerticalScrollIndicator:!1,data:this.getAppointmentShowList(),extraData:this.state.dataChanged,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(T.a,null,a.a.createElement(lt,{appointmentId:n.appointment_id,appointmentCreatedTime:n.appointment_createdTime,customerName:n.appointment_customerName,customerPhoneNumber:n.appointment_phoneNumber,customerDOB:n.appointment_DOB,appointmentMeetingTime:n.appointment_meetingTime,appointmentStatus:n.appointment_status,changeShowView:t.props.changeShowView?t.props.changeShowView:null,setSelectedAppointment:t.props.setSelectedAppointment?t.props.setSelectedAppointment:null}))}})))}}]),r}(r.Component),dt=i.a.create({appointmentListArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},appointmentListTopMenuArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"",paddingBottom:20,paddingTop:10},appointmentListTopMenuContainer:{width:1100,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"",paddingTop:10,paddingBottom:10},appointmentTypeDropdown:{height:35,width:300,borderRadius:5,marginLeft:27},appointmentListFlatListArea:{width:1100,flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},appointmentListFlatList:{width:1100,flex:1,flexDirection:"column",backgroundColor:"",paddingTop:20,paddingBottom:20}});function mt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}!function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(mt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.handleChange=e.handleChange.bind(d()(e)),e}h()(r,[{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:ft.container},a.a.createElement(T.a,{style:ft.alertContainer},a.a.createElement(T.a,{style:ft.textContainer},a.a.createElement(S.a,{style:{fontSize:25}},this.props.title?this.props.title:"C\u1eadp nh\u1eadp th\xf4ng tin"),a.a.createElement(S.a,null,this.props.content?this.props.content:"B\u1ea1n c\xf3 mu\u1ed1n c\u1eadp nh\u1eadt th\xf4ng tin kh\xf4ng ?")),a.a.createElement(T.a,{style:ft.buttonArea},a.a.createElement(b.a,{style:ft.button,onPress:function(){return t.props.onCancel?t.props.onCancel():null}},a.a.createElement(S.a,{style:{color:"white"}},"H\u1ee7y")),a.a.createElement(b.a,{style:ft.button,onPress:function(){return t.props.onConfirm?t.props.onConfirm():null}},a.a.createElement(S.a,{style:{color:"white"}},"X\xe1c nh\u1eadn")))))}}])}(r.Component);var ft=i.a.create({container:{height:600,width:q,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#f7f6f6"},alertContainer:{height:250,width:700,flexDirection:"column",alignItems:"center",justifyContent:"space-between",borderRadius:5,backgroundColor:"white",paddingTop:20,paddingLeft:60,paddingRight:60,paddingBottom:35},textContainer:{height:90,width:700,flexDirection:"column",alignItems:"center",justifyContent:"space-between",backgroundColor:"white"},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",fontSize:17,backgroundColor:""},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function gt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var wt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(gt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={error:"A"},e.onAccept=e.onAccept.bind(d()(e)),e.onReject=e.onReject.bind(d()(e)),e.callApiAcceptAppointment=e.callApiAcceptAppointment.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"callApiDetail",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/appointments/detail/"+this.props.appointment.appointmentId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.appointment;r.appointmentStatus=e.appointment_status,t.props.setSelectedAppointment(r)}}),(function(t){console.log(t)}))}},{key:"callApiAcceptAppointment",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/appointments/accept/"+this.props.appointment.appointmentId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({status:"accepted",coordinatorID:this.props.userInfo.id,note:"ok"})}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(e.message&&(n=!0)),n){var r=t.props.appointment;r.appointmentStatus="accepted",t.props.setSelectedAppointment(r)}else t.setState({error:e.message});t.callApiDetail()}),(function(t){console.log(t)}))}},{key:"onAccept",value:function(){this.callApiAcceptAppointment()}},{key:"onReject",value:function(){this.props.changeShowView("AppointmentRejectView")}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:yt.appointmentViewArea},a.a.createElement(T.a,{style:yt.appointmentTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"Chi ti\u1ebft \u0111\u01a1n kh\xe1m")),a.a.createElement(T.a,{style:yt.appointmentArea},a.a.createElement(T.a,{style:yt.appointmentContainer},a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"M\xe3 \u0111\u01a1n x\xe9t kh\xe1m: "),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?this.props.appointment.appointmentId:"")),a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"Gi\u1edd t\u1ea1o:"),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?A(this.props.appointment.appointmentCreatedTime)+"   "+D(this.props.appointment.appointmentCreatedTime):"")),a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"Gi\u1edd h\u1eb9n:"),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?A(this.props.appointment.appointmentMeetingTime)+"   "+D(this.props.appointment.appointmentMeetingTime):"")),a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"Ng\u01b0\u1eddi t\u1ea1o:"),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?this.props.appointment.customerName:"")),a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?this.props.appointment.customerPhoneNumber:"")),a.a.createElement(T.a,{style:yt.appointmentRowContainer},a.a.createElement(S.a,{style:yt.rowText},"Tr\u1ea1ng th\xe1i: "),a.a.createElement(S.a,{style:yt.rowTextLong},this.props.appointment?V(this.props.appointment.appointmentStatus):"")),a.a.createElement(T.a,{style:[yt.appointmentRowContainer,{justifyContent:"center"}]},a.a.createElement(S.a,{style:yt.rowError},this.state.error))),a.a.createElement(T.a,{style:yt.buttonArea},"pending"==this.props.appointment.appointmentStatus?a.a.createElement(b.a,{style:yt.button,onPress:function(){return t.onReject()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1eeb ch\u1ed1i")):a.a.createElement(T.a,null),"pending"==this.props.appointment.appointmentStatus?a.a.createElement(b.a,{style:yt.button,onPress:function(){return t.onAccept()}},a.a.createElement(S.a,{style:{color:"white"}},"X\xe1c nh\u1eadn")):a.a.createElement(T.a,null))))}}]),r}(r.Component),yt=i.a.create({appointmentViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},appointmentTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},appointmentArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},appointmentContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},appointmentRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowFirstContainer:{width:200},rowSecondContainer:{width:"100%"},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:200,fontSize:17,fontWeight:"bold",backgroundColor:""},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17,backgroundColor:""},rowError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:15,color:"red"},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function Ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var St=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Ct()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={reason:"",error:"",errorList:["","Ph\u1ea3i \u0111i\u1ec1n l\xfd do t\u1eeb ch\u1ed1i"]},e.handleChange=e.handleChange.bind(d()(e)),e.rejectAppointment=e.rejectAppointment.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"rejectAppointment",value:function(){this.checkValid()&&this.callApiRejectAppointment()}},{key:"checkValid",value:function(){var t=this;return""==this.state.reason?this.setState((function(e){return{error:t.state.errorList[1]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiRejectAppointment",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/appointments/reject/"+this.props.appointment.appointmentId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({status:"rejected",coordinatorID:this.props.userInfo.id,note:this.state.reason})}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.appointment;r.appointmentStatus="rejected",t.props.setSelectedAppointment(r),t.props.changeShowView("AppointmentView")}}),(function(t){console.log(t)}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:Tt.appointmentViewArea},a.a.createElement(T.a,{style:Tt.appointmentTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"T\u1eeb ch\u1ed1i \u0111\u01a1n h\u1eb9n: ")),a.a.createElement(T.a,{style:Tt.appointmentArea},a.a.createElement(T.a,{style:Tt.appointmentContainer},a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowText},"M\xe3 \u0111\u01a1n h\u1eb9n: "),a.a.createElement(S.a,{style:Tt.rowTextLong},this.props.appointment?this.props.appointment.appointmentId:"")),a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowText},"Gi\u1edd t\u1ea1o:"),a.a.createElement(S.a,{style:Tt.rowTextLong},this.props.appointment?A(this.props.appointment.appointmentCreatedTime)+"   "+D(this.props.appointment.appointmentCreatedTime):"")),a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowText},"Ng\u01b0\u1eddi t\u1ea1o:"),a.a.createElement(S.a,{style:[Tt.rowTextLong,{width:300}]},this.props.appointment?this.props.appointment.customerName:"")),a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:Tt.rowTextLong},this.props.appointment?this.props.appointment.customerPhoneNumber:"")),a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowText},"L\xfd do t\u1eeb ch\u1ed1i: "),a.a.createElement(L.a,{style:Tt.rowTextInput,multiline:!0,numberOfLines:4,placeholder:"\u0110i\u1ec1n l\xfd do t\u1eeb ch\u1ed1i",name:"reason",onChange:this.handleChange,value:this.state.reason})),a.a.createElement(T.a,{style:Tt.appointmentRowContainer},a.a.createElement(S.a,{style:Tt.rowTextError},this.state.error))),a.a.createElement(T.a,{style:Tt.buttonArea},a.a.createElement(b.a,{style:Tt.appointmentConfirmButton,onPress:function(){return t.props.changeShowView("AppointmentView")}},a.a.createElement(S.a,{style:{color:"white"}},"Quay l\u1ea1i")),a.a.createElement(b.a,{style:Tt.appointmentConfirmButton,onPress:function(){return t.rejectAppointment()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1eeb ch\u1ed1i \u0111\u01a1n h\u1eb9n")))))}}]),r}(r.Component),Tt=i.a.create({appointmentViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},appointmentTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},appointmentArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},appointmentContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},appointmentRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:170,fontSize:18,fontWeight:"bold"},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17,backgroundColor:""},appointmentTypeDropDown:{alignSelf:"stretch",padding:3,width:800,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},appointmentConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#e6e6e6",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreview:{width:200,height:200,backgroundColor:""},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200}});function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Et=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(bt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.onArticlePress=e.onArticlePress.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"onArticlePress",value:function(){var t={articleId:this.props.articleId,articleTitle:this.props.articleTitle,articleContent:this.props.articleContent,articleShortContent:this.props.articleShortContent,articleImageUrl:this.props.articleImageUrl,userId:this.props.userId,articleCreatedTime:this.props.articleCreatedTime,creatorName:this.props.creatorName};this.props.setSelectedArticle&&this.props.setSelectedArticle(t),this.props.changeShowView&&this.props.changeShowView("ArticleView")}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,null,a.a.createElement(b.a,{style:xt.articleListItem,onPress:function(){return t.onArticlePress()}},a.a.createElement(T.a,{style:xt.articleImageContainer},a.a.createElement(k.a,{style:xt.articleImage,source:{uri:this.props.articleImageUrl}})),a.a.createElement(T.a,{style:xt.articleTextContainer},a.a.createElement(T.a,{style:xt.articleTextContentContainer},a.a.createElement(T.a,{style:xt.articleTitleContainer},a.a.createElement(S.a,{style:{fontSize:17,fontWeight:"Bold"}},this.props.articleTitle)),a.a.createElement(T.a,{style:[xt.articleCreateTimeContainer,{borderRadius:1,borderStyle:"dashed"}]},a.a.createElement(S.a,{style:{fontSize:15}},A(this.props.articleCreatedTime)+"   "+D(this.props.articleCreatedTime))),a.a.createElement(T.a,{style:xt.articleShortContentContainer},a.a.createElement(S.a,{style:{fontSize:17,textAlign:"justify"}},this.props.articleShortContent))),a.a.createElement(T.a,{style:xt.articleTextCreatorNameContainer},a.a.createElement(T.a,{style:xt.articleCreatorNameContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.creatorName))))))}}]),r}(r.Component),xt=i.a.create({articleListItem:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",paddingBottom:2,borderRadius:10,marginBottom:20},articleImageContainer:{margin:10,height:200,width:200},articleImage:{height:200,width:200},articleTextContainer:{alignSelf:"stretch",width:880,flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",backgroundColor:"",paddingLeft:10,paddingRight:10,paddingBottom:5,paddingTop:10},articleTextContentContainer:{alignSelf:"stretch",width:850,flexDirection:"column",alignItems:"flex-start",backgroundColor:""},articleTextCreatorNameContainer:{alignSelf:"stretch",width:870,flexDirection:"column",alignItems:"flex-end",backgroundColor:"",paddingRight:10},articleTitleContainer:{marginBottom:10},articleCreateTimeContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1,padding:2,marginBottom:10},articleShortContentContainer:{},articleCreatorNameContainer:{}});function vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Lt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(vt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={statusSelected:"pending",districtSelected:"D0",articleList:e.props.articleList},e.onArticlePress=e.onArticlePress.bind(d()(e)),e.onAddArticlePress=e.onAddArticlePress.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{articleList:n.props.articleList}}))}},{key:"onArticlePress",value:function(){this.props.changeShowView&&this.props.changeShowView("ArticleView")}},{key:"onAddArticlePress",value:function(){this.props.changeShowView&&this.props.changeShowView("ArticleAddView")}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:kt.articleListArea},a.a.createElement(T.a,{style:kt.articleListTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25,fontWeight:"bold"}},"B\xe0i vi\u1ebft m\u1edbi "),a.a.createElement(b.a,{style:kt.createNewArticleButton,onPress:function(){return t.onAddArticlePress()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"))),a.a.createElement(T.a,{style:kt.articleListFlatListArea},a.a.createElement(F.a,{style:kt.articleListFlatList,contentContainerStyle:{alignItems:"center",justifyContent:"flex-start"},showsVerticalScrollIndicator:!1,data:this.state.articleList,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(T.a,null,a.a.createElement(Et,{articleId:n.id,articleTitle:n.tittle,articleShortContent:n.shortContent,articleContent:n.content,articleImageUrl:n.image,userId:n.userID,articleCreatedTime:n.createdTime,creatorName:n.creatorName,changeShowView:t.props.changeShowView?t.props.changeShowView:null,setSelectedArticle:t.props.setSelectedArticle?t.props.setSelectedArticle:null}))}})))}}]),r}(r.Component),kt=i.a.create({articleListArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},articleListTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20},createNewArticleButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},articleListFlatListArea:{width:1100,flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},articleListFlatList:{width:1100,flex:1,flexDirection:"column",backgroundColor:"",paddingTop:20,paddingBottom:20}});function It(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var At=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(It()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).selectPicture=function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap($.a());case 2:t=n.sent,console.log(t),t.cancelled||e.callApiUploadImage(t);case 5:case"end":return n.stop()}}),null,null,null,Promise)},e.state={imageResultUri:"",articleTitle:"",articleShortContent:"",articleContent:"",error:"",errorList:["","Ph\u1ea3i \u0111i\u1ec1n ti\xeau \u0111\u1ec1 b\xe0i vi\u1ebft","Ph\u1ea3i \u0111i\u1ec1n n\u1ed9i dung ng\u1eafn ng\u1ecdn b\xe0i vi\u1ebft","Ph\u1ea3i \u0111i\u1ec1n n\u1ed9i dung b\xe0i vi\u1ebft","B\xe0i vi\u1ebft ch\u01b0a c\xf3 \u1ea3nh min h\u1ecda"]},e.selectPicture=e.selectPicture.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e.createArticle=e.createArticle.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"createArticle",value:function(){this.checkValid()&&this.callApiCreateArticle()}},{key:"checkValid",value:function(){var t=this;return""==this.state.articleTitle?this.setState((function(e){return{error:t.state.errorList[1]}})):""==this.state.articleShortContent?this.setState((function(e){return{error:t.state.errorList[2]}})):""==this.state.articleContent?this.setState((function(e){return{error:t.state.errorList[3]}})):""==this.state.imageResultUri?this.setState((function(e){return{error:t.state.errorList[4]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiCreateArticle",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/articles/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({tittle:this.state.articleTitle,shortContent:this.state.articleShortContent,content:this.state.articleContent,image:this.state.imageResultUri,userID:this.props.userInfo.id})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(e.success&&(n=e.success)),n&&t.props.changeShowView("ArticleListView")}),(function(t){console.log("error:"+t)}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"callApiUploadImage",value:function(t){var e=this;fetch("https://medtest-backend.herokuapp.com/uploadImage",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({file:t.uri})}).then((function(t){return t.json()})).then((function(t){e.setState({imageResultUri:t.uri})}),(function(t){console.log("error:"+t)}))}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:Dt.articleAddViewArea},a.a.createElement(T.a,{style:Dt.articleAddTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"Th\xeam b\xe0i vi\u1ebft: ")),a.a.createElement(T.a,{style:Dt.articleAddArea},a.a.createElement(T.a,{style:Dt.articleAddContainer},a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowText},"Ti\xeau \u0111\u1ec1: "),a.a.createElement(L.a,{style:Dt.rowTextInput,placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1",name:"articleTitle",onChange:this.handleChange,value:this.state.articleTitle})),a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowText},"N\u1ed9i dung\nng\u1eafn g\u1ecdn: "),a.a.createElement(L.a,{style:Dt.rowTextInput,multiline:!0,numberOfLines:4,placeholder:"Nh\u1eadp n\u1ed9i dung ng\u1eafn g\u1ecdn",name:"articleShortContent",onChange:this.handleChange,value:this.state.articleShortContent})),a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowText},"N\u1ed9i dung\nb\xe0i vi\u1ebft: "),a.a.createElement(L.a,{style:Dt.rowTextInput,multiline:!0,numberOfLines:12,placeholder:"Nh\u1eadp n\u1ed9i dung ",name:"articleContent",onChange:this.handleChange,value:this.state.articleContent})),a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowText},"\u1ea2nh \u0111\xednh k\xe8m: "),a.a.createElement(b.a,{style:Dt.addImageButton,onPress:function(){return t.selectPicture()}},a.a.createElement(S.a,{style:{color:"white"}},"Ch\u1ecdn \u1ea3nh"))),this.state.imageResultUri?a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowText}," "),a.a.createElement(k.a,{style:Dt.imagePreview,source:{uri:this.state.imageResultUri}})):null,a.a.createElement(T.a,{style:Dt.articleAddRowContainer},a.a.createElement(S.a,{style:Dt.rowTextError},this.state.error))),a.a.createElement(b.a,{style:Dt.articleAddConfirmButton,onPress:function(){return t.createArticle()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1ea1o b\xe0i b\xe0i vi\u1ebft"))))}}]),r}(r.Component),Dt=i.a.create({articleAddViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},articleAddTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},articleAddArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},articleAddContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},articleAddRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:150,fontSize:18},articleTypeDropDown:{alignSelf:"stretch",padding:3,width:800,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},articleAddConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreview:{width:500,height:500,backgroundColor:""},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"}});function Rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var qt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Rt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={imageUri:"",imageType:"",imageResultUri:""},e.onDelete=e.onDelete.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"onDelete",value:function(){this.callApiDeleteArticle()}},{key:"callApiDeleteArticle",value:function(){var t=this;this.setState((function(t){return{requestListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/articles/delete/"+this.props.article.articleId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;e&&(e.message&&("Xo\xe1 b\xe0i vi\u1ebft th\xe0nh c\xf4ng!"==e.message&&(n=!0))),n&&t.props.changeShowView("ArticleListView")}),(function(t){console.log(t)}))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:Pt.articleViewArea},a.a.createElement(T.a,{style:Pt.articleArea},a.a.createElement(T.a,{style:Pt.articleContainer},a.a.createElement(T.a,{style:Pt.articleRowContainer},a.a.createElement(S.a,{style:{fontSize:25,fontWeight:"bold"}},this.props.article?this.props.article.articleTitle:"")),a.a.createElement(T.a,{style:[Pt.articleRowContainer,{borderWidth:1,borderRadius:1,borderStyle:"dashed",width:180}]},a.a.createElement(S.a,{style:[Pt.rowText,{flex:1,textAlign:"center"}]},this.props.article?A(this.props.article.articleCreatedTime)+"   "+D(this.props.article.articleCreatedTime):"")),a.a.createElement(T.a,{style:[Pt.articleRowContainer,{justifyContent:"center"}]},a.a.createElement(k.a,{style:Pt.rowImage,source:{uri:this.props.article?this.props.article.articleImageUrl:""}})),a.a.createElement(T.a,{style:Pt.articleRowContainer},a.a.createElement(S.a,{style:Pt.rowText},this.props.article?this.props.article.articleContent:"")),a.a.createElement(T.a,{style:[Pt.articleRowContainer,{justifyContent:"flex-end"}]},a.a.createElement(S.a,{style:Pt.rowText},this.props.article?this.props.article.creatorName:""))),a.a.createElement(T.a,{style:Pt.buttonArea},a.a.createElement(b.a,{style:Pt.button,onPress:function(){return t.onDelete()}},a.a.createElement(S.a,{style:{color:"white"}},"X\xf3a b\xe0i vi\u1ebft")))))}}]),r}(r.Component),Pt=i.a.create({articleViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},articleTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},articleArea:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingLeft:200,paddingRight:200},articleContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginTop:50,marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},articleRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{fontSize:18,backgroundColor:"",textAlign:"justify"},articleTypeDropDown:{alignSelf:"stretch",padding:3,width:800,borderRadius:5},rowImage:{width:400,height:400,backgroundColor:""},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function Nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var jt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Nt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={phoneNumber:"",password:"",error:" ",loginApi:!0,errorList:[" ","Ph\u1ea3i \u0111i\u1ec1n s\u1ed1 \u0111i\u1ec7n tho\u1ea1i","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i c\xf3 10 s\u1ed1","Ph\u1ea3i \u0111i\u1ec1n m\u1eadt kh\u1ea9u"]},e.callApiLogin=e.callApiLogin.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"login",value:function(){this.checkValid()&&this.callApiLogin()}},{key:"checkValid",value:function(){var t=this;return""==this.state.phoneNumber?this.setState((function(e){return{error:t.state.errorList[1]}})):isNaN(this.state.phoneNumber)||10!=this.state.phoneNumber.length?this.setState((function(e){return{error:t.state.errorList[2]}})):""==this.state.password?this.setState((function(e){return{error:t.state.errorList[3]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiLogin",value:function(){var t=this;this.state.loginApi&&(this.setState({loginApi:!1}),fetch("https://medtest-backend.herokuapp.com/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({phoneNumber:this.state.phoneNumber,password:this.state.password})}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;e&&(!e.message&&(n=!0)),n?t.props.loginSuccess(e.userInfo,e.token):t.setState({loginApi:!0,error:e.message})}),(function(e){console.log(e),t.setState({loginApi:!0})})))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:{flex:1,width:q}},a.a.createElement(T.a,{style:Vt.loginViewArea},a.a.createElement(T.a,{style:Vt.titleContainer},a.a.createElement(S.a,{style:{fontSize:23,fontWeight:"bold"}},"\u0110\u0103ng nh\u1eadp")),a.a.createElement(T.a,{style:Vt.rowContainer},a.a.createElement(S.a,{style:Vt.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),a.a.createElement(L.a,{style:Vt.rowTextInput,name:"phoneNumber",onChange:this.handleChange,value:this.state.phoneNumber})),a.a.createElement(T.a,{style:Vt.rowContainer},a.a.createElement(S.a,{style:Vt.rowText},"M\u1eadt kh\u1ea9u"),a.a.createElement(L.a,{style:Vt.rowTextInput,name:"password",onChange:this.handleChange,value:this.state.password,secureTextEntry:!0,onSubmitEditing:function(){return t.login()}})),a.a.createElement(T.a,{style:Vt.rowContainer},a.a.createElement(S.a,{style:Vt.rowTextError},this.state.error)),a.a.createElement(b.a,{style:Vt.loginButton,onPress:function(){return t.login()}},a.a.createElement(S.a,{style:{color:"white"}},"\u0110\u0103ng nh\u1eadp"))),a.a.createElement(U,null))}}]),r}(r.Component),Vt=i.a.create({loginViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6",paddingTop:70},titleContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,marginBottom:20},rowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",padding:20},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:130,fontSize:18},rowTextInput:{alignSelf:"stretch",padding:3,width:400,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},loginButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginTop:20,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",fontSize:13,color:"red"}});function Bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Mt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Bt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.onRequestPress=e.onRequestPress.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"changeToRequestViewScreen",value:function(t){var e={requestId:this.props.requestId,requestCreatedTime:this.props.requestCreatedTime,customerName:this.props.customerName,customerPhoneNumber:this.props.customerPhoneNumber,customerDOB:this.props.customerDOB,requestAddress:this.props.requestAddress,requestDistrictName:this.props.requestDistrictName,requestTownName:this.props.requestTownName,requestMeetingTime:this.props.requestMeetingTime,nurseName:this.props.nurseName,nurseId:this.props.nurseId,coordinatorId:this.props.coordinatorId,coordinatorName:this.props.coordinatorName,lsSelectedTest:this.props.lsSelectedTest,requestAmount:this.props.requestAmount,requestStatus:this.props.requestStatus,requestUpdatedTime:this.props.requestUpdatedTime,testList:t,requestTestVersion:this.props.requestTestVersion};this.props.setSelectedRequest&&this.props.setSelectedRequest(e),this.props.changeShowView&&this.props.changeShowView("RequestView")}},{key:"onRequestPress",value:function(){this.checkVersion()&&this.changeToRequestViewScreen(this.props.testList)}},{key:"checkVersion",value:function(){var t=this;if(this.props.testVersion==this.props.requestTestVersion)return!0;fetch("https://medtest-backend.herokuapp.com/tests/versions/list-all-test/"+this.props.requestTestVersion,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(!e.message&&(n=!0)),n)return t.changeToRequestViewScreen(e.lsTests),!1}),(function(t){console.log(t)}))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,null,a.a.createElement(b.a,{style:zt.requestListItem,onPress:function(){return t.onRequestPress()}},a.a.createElement(T.a,{style:[zt.requestListTextContainer,{marginTop:5}]},a.a.createElement(T.a,null,a.a.createElement(S.a,{style:{fontSize:17,color:"#25345D",fontWeight:"bold"}},"#",this.props.requestId))),a.a.createElement(T.a,{style:zt.requestListTextContainer},a.a.createElement(T.a,{style:zt.requestListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.customerName)),a.a.createElement(T.a,{style:[zt.requestListSecondColumnContainer,{borderRadius:1,borderStyle:"dashed"}]},a.a.createElement(S.a,{style:{fontSize:17}},A(this.props.requestCreatedTime)+"   "+D(this.props.requestCreatedTime))),a.a.createElement(T.a,null,a.a.createElement(S.a,{style:{fontSize:16}},this.props.requestAddress+", "+this.props.requestTownName+", "+this.props.requestDistrictName))),a.a.createElement(T.a,{style:[zt.requestListTextContainer,{marginBottom:10}]},a.a.createElement(T.a,{style:zt.requestListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:  ",this.props.customerPhoneNumber)),a.a.createElement(T.a,{style:zt.requestListSecondColumnContainer},a.a.createElement(S.a,{style:{fontSize:17,color:"#0c59cf"}},j(this.props.requestStatus))))))}}]),r}(r.Component),zt=i.a.create({requestListItem:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingBottom:2,borderRadius:10,marginBottom:20},requestListTextContainer:{alignSelf:"stretch",width:1100,flexDirection:"row",alignItems:"flex-start",paddingLeft:10,paddingRight:10,paddingBottom:3,paddingTop:3},requestListFirstColumnContainer:{width:250},requestListSecondColumnContainer:{width:230,marginLeft:20,marginRight:50,flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1}});function Ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ut=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Ot()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={districtsList:e.props.districtList,statusSelected:"all",districtSelected:"all",dataChanged:!0,testsList:e.props.testsList,requestList:e.props.requestList,requestShowList:e.props.requestList,requestCount:e.props.requestList?e.props.requestList.length:"0"},e.getRequestShowList=e.getRequestShowList.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{requestList:n.props.requestList,districtsList:n.props.districtList,requestCount:n.props.requestList?n.props.requestList.length:"0",dataChanged:!n.state.dataChanged}}))}},{key:"getRequestShowList",value:function(){if("all"==this.state.statusSelected){if("all"==this.state.districtSelected)return this.state.requestList;for(var t=[],e=this.state.requestList.length-1;e>=0;)this.state.requestList[e].requestDistrictID===this.state.districtSelected&&t.push(this.state.requestList[e]),e-=1;return t}if("all"==this.state.districtSelected){for(var n=[],r=this.state.requestList.length-1;r>=0;)this.state.requestList[r].requestStatus===this.state.statusSelected&&n.push(this.state.requestList[r]),r-=1;return n}for(var a=[],i=this.state.requestList.length-1;i>=0;)this.state.requestList[i].requestStatus===this.state.statusSelected&&this.state.requestList[i].requestDistrictID===this.state.districtSelected&&a.push(this.state.requestList[i]),i-=1;return a}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:Wt.requestListArea},a.a.createElement(T.a,{style:Wt.requestListTopMenuArea},a.a.createElement(T.a,{style:Wt.requestListTopMenuContainer},a.a.createElement(S.a,{style:{fontWeight:"bold"}},"Tr\u1ea1ng th\xe1i: "),a.a.createElement(K.a,{selectedValue:this.state.statusSelected,style:[Wt.requestTypeDropdown,{width:360}],onValueChange:function(e,n){return t.setState({statusSelected:e,dataChanged:!t.state.dataChanged})}},a.a.createElement(K.a.Item,{label:"T\u1ea5t c\u1ea3",value:"all"}),a.a.createElement(K.a.Item,{label:"\u0110ang \u0111\u1ee3i y t\xe1 nh\u1eadn \u0111\u01a1n",value:"pending"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 \u0111\u01b0\u1ee3c y t\xe1 ch\u1ea5p nh\u1eadn",value:"accepted"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 \u0111\u01b0\u1ee3c l\u1ea5y m\u1eabu",value:"transporting"}),a.a.createElement(K.a.Item,{label:"\u0110ang \u0111\u1ee3i k\u1ebft qu\u1ea3",value:"waitingforresult"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 xong",value:"closed"}),a.a.createElement(K.a.Item,{label:"Y t\xe1 l\xe0m m\u1ea5t m\u1eabu",value:"lostsample"}),a.a.createElement(K.a.Item,{label:"\u0110i\u1ec1u ph\u1ed1i vi\xean l\xe0 m\u1ea5t m\u1eabu",value:"coordinatorlostsample"}),a.a.createElement(K.a.Item,{label:"\u0110\u01a1n \u0111\xe3 h\u1ee7y",value:"canceled"}),a.a.createElement(K.a.Item,{label:"\u0110\xe3 nh\u1eadn \u0111\u01a1n b\u1ecb m\u1ea5t do \u0111i\u1ec1u ph\u1ed1i vi\xean",value:"reaccepted"}),a.a.createElement(K.a.Item,{label:"\u0110ang v\u1eadn chuy\u1ec3n \u0111\u01a1n b\u1ecb m\u1ea5t do \u0111i\u1ec1u ph\u1ed1i vi\xean",value:"retransporting"}),a.a.createElement(K.a.Item,{label:"\u0110ang \u0111\u1ee3i l\u1ea5y l\u1ea1i m\u1eabu do \u0111i\u1ec1u ph\u1ed1i vi\xean l\xe0m m\u1ea5t",value:"relostsample"})),a.a.createElement(S.a,{style:{marginLeft:200,fontWeight:"bold"}},"Qu\u1eadn/Huy\u1ec7n : "),a.a.createElement(K.a,{selectedValue:this.state.districtSelected,style:Wt.requestTypeDropdown,onValueChange:function(e,n){return t.setState({districtSelected:e,dataChanged:!t.state.dataChanged})}},a.a.createElement(K.a.Item,{label:"T\u1ea5t c\u1ea3",value:"all"}),this.state.districtsList?this.state.districtsList.map((function(t){return a.a.createElement(K.a.Item,{label:t.districtName,value:t.districtCode})})):null)),a.a.createElement(T.a,{style:Wt.requestListTopMenuContainer},a.a.createElement(S.a,null,"S\u1ed1 l\u01b0\u1ee3ng: ",this.getRequestShowList()?this.getRequestShowList().length:"0"))),a.a.createElement(T.a,{style:Wt.requestListFlatListArea},a.a.createElement(F.a,{style:Wt.requestListFlatList,contentContainerStyle:{alignItems:"center",justifyContent:"flex-start"},data:this.getRequestShowList(),extraData:this.state.dataChanged,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(T.a,null,a.a.createElement(Mt,{requestId:n.requestID,requestCreatedTime:n.requestCreatedTime,customerName:n.customerName,customerPhoneNumber:n.customerPhoneNumber,customerDOB:n.customerDOB,requestAddress:n.requestAddress,requestDistrictName:n.requestDistrictName,requestTownName:n.requestTownName,requestMeetingTime:n.requestMeetingTime,nurseName:n.nurseName,nurseId:n.nurseID,coordinatorId:n.coordinatorID,coordinatorName:n.coordinatorName,lsSelectedTest:n.lsSelectedTest,requestAmount:n.requestAmount,requestStatus:n.requestStatus,requestUpdatedTime:n.requestUpdatedTime,requestTestVersion:n.versionOfTest,testVersion:t.props.testVersion,testList:t.state.testsList,token:t.props.token,changeShowView:t.props.changeShowView?t.props.changeShowView:null,setSelectedRequest:t.props.setSelectedRequest?t.props.setSelectedRequest:null}))}})))}}]),r}(r.Component),Wt=i.a.create({requestListArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},requestListTopMenuArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"",paddingBottom:20,paddingTop:10},requestListTopMenuContainer:{width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:10,paddingBottom:10},requestTypeDropdown:{height:35,width:300,borderRadius:5,backgroundColor:"white",color:"black"},requestListFlatListArea:{width:1100,flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},requestListFlatList:{width:1100,flex:1,flexDirection:"column",backgroundColor:"",paddingTop:20,paddingBottom:20}});function Ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Gt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Ft()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(){return l()(this,r),n.apply(this,arguments)}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement(T.a,{style:[Jt.testItem,{backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"white"}]},a.a.createElement(T.a,{style:Jt.testName},a.a.createElement(S.a,{style:{fontSize:15,color:"#25345d"}},this.props.testName)),a.a.createElement(T.a,{style:Jt.testPrice},a.a.createElement(S.a,{style:{fontSize:15,color:"#25345d"}},N(this.props.testPrice))))}}]),r}(r.Component),Jt=i.a.create({testItem:{height:45,width:"100%",backgroundColor:"white",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},testName:{width:500,height:29,paddingLeft:5,paddingRight:5,paddingTop:3},testPrice:{width:100,height:15,flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end",marginBottom:2,paddingRight:10}});function Ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var _t=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Ht()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={visible:!1},e.isVisible=e.isVisible.bind(d()(e)),e}return h()(r,[{key:"isVisible",value:function(){var t=this,e=!1;return this.props.test.forEach((function(n){1==t.props.isSelected(n.testID)&&(e=!0)})),e}},{key:"render",value:function(){var t=this,e=this.props.test,n=0;return a.a.createElement(T.a,null,this.isVisible()?a.a.createElement(T.a,null,a.a.createElement(T.a,{style:Xt.testCategoryItem},a.a.createElement(T.a,{style:Xt.testCategoryNameContainer},a.a.createElement(S.a,{style:{fontSize:17,color:""}},this.props.categoryName))),a.a.createElement(F.a,{style:Xt.TestListAreaScrollView,showsVerticalScrollIndicator:!1,scrollEnabled:!1,data:e,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var r=e.item,i=e.index;return!t.props.isSelected(r.testID)&&(n+=1),a.a.createElement(T.a,null,t.props.isSelected(r.testID)?a.a.createElement(Gt,{testName:r.testName,testPrice:r.price,testID:r.testID,backgroundColor:"white",countHide:n,index:i,math:(parseInt(i)-n)%2}):null)}})):null)}}]),r}(r.Component),Xt=i.a.create({testCategoryItem:{height:50,width:"100%",backgroundColor:"white",flexDirection:"column",alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#25345d"},TestListAreaScrollView:{width:"100%",flex:1,backgroundColor:"white",borderRadius:10},testCategoryNameContainer:{width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:35,paddingLeft:5,paddingRight:5},testItem:{height:45,width:"100%",backgroundColor:"white",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},testName:{width:500,height:29,paddingLeft:5,paddingRight:5,paddingTop:3},testPrice:{width:100,height:15,flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end",marginBottom:2,paddingRight:10}});function Qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Yt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(Qt()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={testList:e.props.testList,resultList:[],error:""},e.isSelected=e.isSelected.bind(d()(e)),e.getLeftButtonName=e.getLeftButtonName.bind(d()(e)),e.getRightButtonName=e.getRightButtonName.bind(d()(e)),e.onLeftButtonPress=e.onLeftButtonPress.bind(d()(e)),e.onRightButtonPress=e.onRightButtonPress.bind(d()(e)),e.callApiTakingSample=e.callApiTakingSample.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"isSelected",value:function(t){var e=!1;return-1!==(this.props.request?this.props.request.lsSelectedTest.findIndex((function(e){return e==t})):-1)&&(e=!0),e}},{key:"callApiDetail",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/requests/detail/"+this.props.request.requestId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.request;r.requestStatus=e.requestStatus,t.props.setSelectedRequest(r)}}),(function(t){console.log(t)}))}},{key:"callApiTakingSample",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/requests/update/"+this.props.request.requestId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({status:"waitingforresult",userID:this.props.userInfo.id,note:"Coordinator have take this request"})}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.request;r.requestStatus="waitingforresult",t.props.setSelectedRequest(r),t.props.changeShowView("RequestView")}else t.setState({error:e.message}),t.callApiDetail()}),(function(t){console.log(t)}))}},{key:"onTakingSample",value:function(){this.callApiTakingSample()}},{key:"onLostSample",value:function(){this.props.changeShowView("RequestLostSampleView")}},{key:"onUpdateResult",value:function(){this.props.changeShowView("RequestUpdateResultView")}},{key:"onViewResult",value:function(){this.props.changeShowView("RequestResultView")}},{key:"getLeftButtonName",value:function(t){switch(t){case"transporting":return"";case"waitingforresult":return"L\xe0m m\u1ea5t m\u1eabu";case"closed":return""}}},{key:"getRightButtonName",value:function(t){switch(t){case"transporting":return"X\xe1c nh\u1eadn l\u1ea5y m\u1eabu";case"waitingforresult":return"C\u1eadp nh\u1eadt k\u1ebft qu\u1ea3";case"closed":return"Xem k\u1ebft qu\u1ea3"}}},{key:"onLeftButtonPress",value:function(t){switch(t){case"transporting":break;case"waitingforresult":this.onLostSample()}}},{key:"onRightButtonPress",value:function(t){switch(t){case"transporting":this.onTakingSample();break;case"waitingforresult":this.onUpdateResult();break;case"closed":this.onViewResult()}}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:Kt.requestViewArea},a.a.createElement(T.a,{style:Kt.requestTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"Chi ti\u1ebft \u0111\u01a1n y\xeau c\u1ea7u x\xe9t nghi\u1ec7m")),a.a.createElement(T.a,{style:Kt.requestArea},a.a.createElement(T.a,{style:Kt.requestContainer},a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"M\xe3 \u0111\u01a1n x\xe9t nghi\u1ec7m: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.requestId:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"Gi\u1edd t\u1ea1o:"),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?A(this.props.request.requestCreatedTime)+"   "+D(this.props.request.requestCreatedTime):"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"Ng\u01b0\u1eddi t\u1ea1o:"),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.customerName:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.customerPhoneNumber:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"\u0110\u1ecba ch\u1ec9 nh\u1eadn \u0111\u01a1n: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.requestAddress+", "+this.props.request.requestTownName+", "+this.props.request.requestDistrictName:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"Y t\xe1 nh\u1eadn \u0111\u01a1n: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.nurseName:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"\u0110i\u1ec1u ph\u1ed1i vi\xean: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?this.props.request.coordinatorName:"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"Tr\u1ea1ng th\xe1i: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?j(this.props.request.requestStatus):"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?A(this.props.request.requestUpdatedTime)+"   "+D(this.props.request.requestUpdatedTime):"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(S.a,{style:Kt.rowText},"T\u1ed5ng ti\u1ec1n: "),a.a.createElement(S.a,{style:Kt.rowTextLong},this.props.request?N(this.props.request.requestAmount)+"\u0111":"")),a.a.createElement(T.a,{style:Kt.requestRowContainer},a.a.createElement(F.a,{style:Kt.rowFlatList,showsVerticalScrollIndicator:!1,scrollEnabled:!1,data:this.props.request?this.props.request.testList:[],keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(_t,{categoryName:n.testTypeName,test:n.listTest,isSelected:t.isSelected})}})),a.a.createElement(T.a,{style:[Kt.requestRowContainer,{justifyContent:"center"}]},a.a.createElement(S.a,{style:Kt.rowError},this.state.error))),a.a.createElement(T.a,{style:Kt.buttonArea},""==!this.getLeftButtonName(this.props.request?this.props.request.requestStatus:"")?a.a.createElement(b.a,{style:Kt.button,onPress:function(){return t.onLeftButtonPress(t.props.request?t.props.request.requestStatus:"")}},a.a.createElement(S.a,{style:{color:"white"}},this.getLeftButtonName(this.props.request?this.props.request.requestStatus:""))):a.a.createElement(T.a,null),""==!this.getRightButtonName(this.props.request?this.props.request.requestStatus:"")?a.a.createElement(b.a,{style:Kt.button,onPress:function(){return t.onRightButtonPress(t.props.request?t.props.request.requestStatus:"")}},a.a.createElement(S.a,{style:{color:"white"}},this.getRightButtonName(this.props.request?this.props.request.requestStatus:""))):a.a.createElement(T.a,null))))}}]),r}(r.Component),Kt=i.a.create({requestViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},requestTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},requestArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},requestContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},requestRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:200,fontSize:17,fontWeight:"bold",backgroundColor:""},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17},rowError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:15,color:"red"},rowFlatList:{width:"100%",alignSelf:"stretch",flex:1,backgroundColor:"white",marginTop:5,backgroundColor:"gray"},rowImage:{width:400,height:400,backgroundColor:"red"},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreviewArea:{alignSelf:"stretch",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",margin:0},imagePreview:{height:800,width:800,aspectRatio:1,backgroundColor:""}});function $t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Zt=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if($t()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={resultList:[]},e}return h()(r,[{key:"componentDidMount",value:function(){"closed"==this.props.request.requestStatus&&this.callApiResultList()}},{key:"componentDidUpdate",value:function(t,e){t!==this.props&&(this.setState((function(t){return{}})),"closed"==this.props.request.requestStatus&&this.callApiResultList())}},{key:"callApiResultList",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/requests/detail/"+this.props.request.requestId+"/result",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){console.log(e),e&&(!e.message&&t.setState((function(t){return{resultList:e}})))}),(function(t){console.log(t)}))}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:te.requestViewArea},a.a.createElement(T.a,{style:te.requestTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"K\u1ebft qu\u1ea3 \u0111\u01a1n x\xe9t nghi\u1ec7m "+this.props.request.requestId)),a.a.createElement(T.a,{style:te.requestArea},a.a.createElement(T.a,{style:te.requestContainer},0==this.state.resultList.length?null:this.state.resultList.map((function(t){return a.a.createElement(T.a,{style:te.imagePreviewArea},a.a.createElement(T.a,{style:te.requestRowContainer},a.a.createElement(k.a,{style:te.imagePreview,source:{uri:t.image}})))}))),a.a.createElement(T.a,{style:te.buttonArea},a.a.createElement(b.a,{style:te.button,onPress:function(){return t.props.changeShowView("RequestView")}},a.a.createElement(S.a,{style:{color:"white"}},"Quay l\u1ea1i")))))}}]),r}(r.Component),te=i.a.create({requestViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},requestTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},requestArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},requestContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},requestRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:200,fontSize:17,fontWeight:"bold",backgroundColor:""},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreviewArea:{alignSelf:"stretch",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",margin:0},imagePreview:{height:1e3,width:1e3,aspectRatio:1,backgroundColor:""},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},button:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ne=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ee()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={reason:"",error:"",errorList:["","Ph\u1ea3i \u0111i\u1ec1n l\xfd do l\xe0m m\u1ea5t m\u1eabu"]},e.handleChange=e.handleChange.bind(d()(e)),e.lostSample=e.lostSample.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"lostSample",value:function(){this.checkValid()&&this.callApiLostSample()}},{key:"checkValid",value:function(){var t=this;return""==this.state.reason?this.setState((function(e){return{error:t.state.errorList[1]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiLostSample",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/requests/update/"+this.props.request.requestId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({status:"coordinatorlostsample",userID:this.props.userInfo.id,note:this.state.reason})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.request;r.requestStatus="coordinatorlostsample",t.props.setSelectedRequest(r),t.props.changeShowView("RequestView")}else t.setState({error:e.message})}),(function(t){console.log("error:"+t)}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:re.requestViewArea},a.a.createElement(T.a,{style:re.requestTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"B\xe1o m\u1ea5t m\u1eabu x\xe9t nghi\u1ec7m: ")),a.a.createElement(T.a,{style:re.requestArea},a.a.createElement(T.a,{style:re.requestContainer},a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowText},"M\xe3 \u0111\u01a1n x\xe9t nghi\u1ec7m: "),a.a.createElement(S.a,{style:re.rowTextLong},this.props.request?this.props.request.requestId:"")),a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowText},"Gi\u1edd t\u1ea1o:"),a.a.createElement(S.a,{style:re.rowTextLong},this.props.request?A(this.props.request.requestCreatedTime)+"   "+D(this.props.request.requestCreatedTime):"")),a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowText},"Ng\u01b0\u1eddi t\u1ea1o:"),a.a.createElement(S.a,{style:re.rowTextLong},this.props.request?this.props.request.customerName:"")),a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:re.rowTextLong},this.props.request?this.props.request.customerPhoneNumber:"")),a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowText},"L\xfd do m\u1ea5t m\u1eabu: "),a.a.createElement(L.a,{style:re.rowTextInput,multiline:!0,numberOfLines:4,placeholder:"\u0110i\u1ec1n l\xfd do l\xe0m m\u1ea5t m\u1eabu",name:"reason",onChange:this.handleChange,value:this.state.reason})),a.a.createElement(T.a,{style:re.requestRowContainer},a.a.createElement(S.a,{style:re.rowTextError},this.state.error))),a.a.createElement(T.a,{style:re.buttonArea},a.a.createElement(b.a,{style:re.requestConfirmButton,onPress:function(){return t.props.changeShowView("RequestView")}},a.a.createElement(S.a,{style:{color:"white"}},"Quay l\u1ea1i")),a.a.createElement(b.a,{style:re.requestConfirmButton,onPress:function(){return t.lostSample()}},a.a.createElement(S.a,{style:{color:"white"}},"B\xe1o m\u1ea5t m\u1eabu")))))}}]),r}(r.Component),re=i.a.create({requestViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},requestTopMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:10},requestArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},requestContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},requestRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:200,fontSize:18,fontWeight:"bold"},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:17},requestTypeDropDown:{alignSelf:"stretch",padding:3,width:800,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#e6e6e6",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreview:{width:200,height:200,backgroundColor:""},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"},buttonArea:{alignSelf:"stretch",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:10,paddingBottom:50,paddingLeft:200,paddingRight:200},requestConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"}});function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ie=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ae()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).selectPicture=function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap($.a());case 2:t=n.sent,console.log(t),t.cancelled||e.callApiUploadImage(t);case 5:case"end":return n.stop()}}),null,null,null,Promise)},e.state={imageUriList:[],requestTitle:"",requestShortContent:"",requestContent:"",error:"",errorList:["","Ch\u01b0a c\xf3 \u1ea3nh k\u1ebft qu\u1ea3 n\xe0o"]},e.selectPicture=e.selectPicture.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e.completeUpdateResult=e.completeUpdateResult.bind(d()(e)),e}return h()(r,[{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"completeUpdateResult",value:function(){this.checkValid()&&this.callApiSetResultImage()}},{key:"checkValid",value:function(){var t=this;return 0==this.state.imageUriList.length?this.setState((function(e){return{error:t.state.errorList[1]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"callApiUpdateRequest",value:function(){var t=this;fetch("https://medtest-backend.herokuapp.com/requests/update/"+this.props.request.requestId,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({status:"closed",userID:this.props.userInfo.id,note:"\u0110\xe3 c\u1eadp nh\u1eadt k\u1ebft qu\u1ea3"})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;if(e&&(!e.message&&(n=!0)),n){var r=t.props.request;r.requestStatus="closed",t.props.setSelectedRequest(r),t.props.changeShowView("RequestView")}}),(function(t){console.log("error:"+t)}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"callApiUploadImage",value:function(t){var e=this;fetch("https://medtest-backend.herokuapp.com/uploadImage",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({file:t.uri})}).then((function(t){return t.json()})).then((function(t){var n=e.state.imageUriList;n.push({image:t.uri}),e.setState({imageUriList:n})}),(function(t){console.log("error:"+t)}))}},{key:"callApiSetResultImage",value:function(){for(var t=this,e=[],n=this.state.imageUriList.length-1;n>=0;)e.push(this.state.imageUriList[n].image),n-=1;console.log(e),fetch("https://medtest-backend.herokuapp.com/requests/detail/results/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token},body:JSON.stringify({listImage:e,userID:this.props.userInfo.id,requestID:this.props.request.requestId})}).then((function(t){return t.json()})).then((function(e){console.log("result:"+JSON.stringify(e));var n=!1;e&&(!e.message&&(n=!0)),n?t.callApiUpdateRequest():t.setState({error:e.message})}),(function(t){console.log("error:"+t)}))}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:oe.requestAddViewArea},a.a.createElement(T.a,{style:oe.requestAddTopMenuArea},a.a.createElement(S.a,{style:{fontSize:25}},"Th\xeam k\u1ebft qu\u1ea3 x\xe9t nghi\u1ec7m: ")),a.a.createElement(T.a,{style:oe.requestAddArea},a.a.createElement(T.a,{style:oe.requestAddContainer},a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText},"M\xe3 \u0111\u01a1n x\xe9t nghi\u1ec7m: "),a.a.createElement(S.a,{style:oe.rowTextLong},this.props.request?this.props.request.requestId:"")),a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText},"Gi\u1edd t\u1ea1o:"),a.a.createElement(S.a,{style:oe.rowTextLong},this.props.request?A(this.props.request.requestCreatedTime)+"   "+D(this.props.request.requestCreatedTime):"")),a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText},"Ng\u01b0\u1eddi t\u1ea1o:"),a.a.createElement(S.a,{style:oe.rowTextLong},this.props.request?this.props.request.customerName:"")),a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),a.a.createElement(S.a,{style:oe.rowTextLong},this.props.request?this.props.request.customerPhoneNumber:"")),a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText},"\u1ea2nh k\u1ebft qu\u1ea3: "),a.a.createElement(b.a,{style:oe.addImageButton,onPress:function(){return t.selectPicture()}},a.a.createElement(S.a,{style:{color:"white"}},"Ch\u1ecdn \u1ea3nh"))),0==this.state.imageUriList.length?null:this.state.imageUriList.map((function(t){return a.a.createElement(T.a,{style:oe.imagePreviewArea},a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowText}," "),a.a.createElement(k.a,{style:oe.imagePreview,source:{uri:t.image}})))})),a.a.createElement(T.a,{style:oe.requestRowContainer},a.a.createElement(S.a,{style:oe.rowTextError},this.state.error))),a.a.createElement(b.a,{style:oe.requestAddConfirmButton,onPress:function(){return t.completeUpdateResult()}},a.a.createElement(S.a,{style:{color:"white"}},"C\u1eadp nh\u1eadt k\u1ebft qu\u1ea3"))))}}]),r}(r.Component),oe=i.a.create({requestAddViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},requestAddTopMenuArea:{height:70,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",padding:20,paddingLeft:200,marginTop:0,marginBottom:10},requestAddArea:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingLeft:200,paddingRight:200},requestAddContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",marginBottom:50,paddingTop:40,paddingLeft:50,paddingRight:50,paddingBottom:15},requestRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:200,fontSize:18,fontWeight:"bold"},rowTextLong:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500,fontSize:18},requestTypeDropDown:{alignSelf:"stretch",padding:3,width:800,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},requestAddConfirmButton:{height:50,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,marginBottom:50,flexDirection:"row",alignItems:"center",justifyContent:"center"},addImageButton:{width:200,height:30,borderRadius:10,borderWidth:1,backgroundColor:"#25345D",flexDirection:"row",alignItems:"center",justifyContent:"center"},imagePreviewArea:{alignSelf:"stretch",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",margin:0},imagePreview:{width:600,height:600,backgroundColor:""},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:300,fontSize:13,color:"red"}});function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ce=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(se()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={testPrice:e.props.testPrice,alert:""},e.handleChange=e.handleChange.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){var n=this;t!==this.props&&this.setState((function(t){return{testPrice:n.props.testPrice}}))}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n)),""==n||isNaN(n)?this.setState({alert:"Gi\xe1 ti\u1ec1n ph\u1ea3i l\xe0 s\u1ed1"}):this.setState({alert:""}),this.props.updatePrice(this.props.testId,n)}},{key:"render",value:function(){return a.a.createElement(T.a,{style:le.testListItem},a.a.createElement(T.a,{style:[le.testTextContainer,{marginTop:5}]},a.a.createElement(T.a,{style:le.testListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17,fontWeight:"bold"}},"Lo\u1ea1i Test: ")),a.a.createElement(T.a,{style:le.testListSecondColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.testTypeName))),a.a.createElement(T.a,{style:le.testTextContainer},a.a.createElement(T.a,{style:le.testListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17,fontWeight:"bold"}},"T\xean Test: ")),a.a.createElement(T.a,{style:le.testListSecondColumnContainer},a.a.createElement(S.a,{style:{fontSize:17}},this.props.testName))),a.a.createElement(T.a,{style:[le.testTextContainer,{marginBottom:10}]},a.a.createElement(T.a,{style:le.testListFirstColumnContainer},a.a.createElement(S.a,{style:{fontSize:17,fontWeight:"bold"}},"Gi\xe1 ti\u1ec1n: ")),a.a.createElement(L.a,{style:le.rowTextInput,placeholder:"nh\u1eadp gi\xe1 ti\u1ec1n (VN\u0110)",name:"testPrice",onChange:this.handleChange,value:this.state.testPrice.toString()}),a.a.createElement(S.a,{style:{fontSize:15,color:"red",marginLeft:10,marginTop:2}},this.state.alert)))}}]),r}(r.Component),le=i.a.create({testListItem:{alignSelf:"stretch",width:1100,backgroundColor:"white",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",paddingBottom:2,borderRadius:10,marginBottom:20},testTextContainer:{alignSelf:"stretch",width:1100,flexDirection:"row",alignItems:"flex-start",paddingLeft:20,paddingRight:10,paddingBottom:5,paddingTop:5},testListFirstColumnContainer:{width:100},testListSecondColumnContainer:{width:500},rowTextInput:{alignSelf:"stretch",padding:3,width:100,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10}});function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var he=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ue()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).callApiUpdateVersion=function(){var t,n,r,a;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.state.allowToCreateVersion){for(t=[],n=e.state.testListTemp.length-1;n>=0;){for(r=e.state.testListTemp[n].listTest.length-1;r>=0;)a=e.state.testListTemp[n].listTest[r],t.push(a),r-=1;n-=1}console.log(t),fetch("https://medtest-backend.herokuapp.com/tests/versions/upgrade-version",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.props.token},body:JSON.stringify({creatorID:e.props.userInfo.id,lsInputTest:t})}).then((function(t){return t.json()})).then((function(t){console.log("result:"+JSON.stringify(t)),e.callApiGetVersionList()}),(function(t){console.log("error:"+t)}))}case 1:case"end":return i.stop()}}),null,null,null,Promise)},e.state={versionSelected:"2",versionCreatedTime:null,versionCreatorName:null,testTypeSelected:"none",testTypeSelectedForCreate:"none",dataChanged:!0,testList:[],testListApi:!0,testVersionApi:!0,testListTemp:[],versionList:null,testName:"",testPrice:"",newTestId:-1,allowToCreateVersion:!0,error:"",errorList:["","Ph\u1ea3i ch\u1ecdn lo\u1ea1i x\xe9t nghi\u1ec7m","Ph\u1ea3i \u0111i\u1ec1n t\xean x\xe9t nghi\u1ec7m","Ph\u1ea3i \u0111i\u1ec1n gi\xe1 x\xe9t nghi\u1ec7m"]},e.createTest=e.createTest.bind(d()(e)),e.handleChange=e.handleChange.bind(d()(e)),e.getTestList=e.getTestList.bind(d()(e)),e.updatePrice=e.updatePrice.bind(d()(e)),e.setSelectedVersion=e.setSelectedVersion.bind(d()(e)),e.callApiUpdateVersion=e.callApiUpdateVersion.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){this.callApiGetVersionList()}},{key:"componentDidUpdate",value:function(t,e){t!==this.props&&this.setState((function(t){return{}}))}},{key:"callApiGetVersionList",value:function(){var t=this;this.state.testVersionApi&&(this.setState((function(t){return{testVersionApi:!1}})),fetch("https://medtest-backend.herokuapp.com/tests/versions/list",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(e){var n=!1;e&&(!e.message&&(n=!0)),n&&(t.setState((function(t){return{versionList:e,versionSelected:e[0].versionID,versionCreatedTime:e[0].createdTime,versionCreatorName:e[0].creatorName,testVersionApi:!0}})),t.callApiGetTestList())}),(function(t){console.log(t)})))}},{key:"createTest",value:function(){if(this.checkValid()){for(var t=this.state.testListTemp.length-1;t>=0;){if(this.state.testListTemp[t].testTypeID==this.state.testTypeSelectedForCreate){var e=this.state.testListTemp[t].listTest,n={testID:this.state.newTestId,testName:this.state.testName,price:this.state.testPrice,testTypeID:this.state.testTypeSelectedForCreate,testTypeName:this.state.testListTemp[t].testTypeName};e.push(n)}t-=1}var r=this.state.newTestId-=1;this.setState({newTestId:r,testTypeSelectedForCreate:"none",testName:"",testPrice:""})}}},{key:"checkValid",value:function(){var t=this;return"none"==this.state.testTypeSelectedForCreate?this.setState((function(e){return{error:t.state.errorList[1]}})):""==this.state.testName?this.setState((function(e){return{error:t.state.errorList[2]}})):""==this.state.testPrice||isNaN(this.state.testPrice)?this.setState((function(e){return{error:t.state.errorList[3]}})):(this.setState((function(e){return{error:t.state.errorList[0]}})),!0)}},{key:"updatePrice",value:function(t,e){""==e||isNaN(e)?this.setState({allowToCreateVersion:!1}):this.setState({allowToCreateVersion:!0});for(var n=[],r=this.state.testListTemp.length-1;r>=0;){for(var a=this.state.testListTemp[r],i=[],o=0;o<=this.state.testListTemp[r].listTest.length-1;){var s=this.state.testListTemp[r].listTest[o];s.testID==t&&(s.price=e),i.push(s),o+=1}a.listTest=i,n.push(a),r-=1}}},{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"setSelectedVersion",value:function(t){for(var e=this.state.versionList.length-1;e>=0;){var n=this.state.versionList[e];n.versionID==t&&this.setState({versionSelected:t,versionCreatedTime:n.createdTime,versionCreatorName:n.creatorName}),e-=1}this.callApiGetTestList(t)}},{key:"callApiGetTestList",value:function(t){var e=this;if(this.state.testListApi){this.setState((function(t){return{testListApi:!1}}));var n="";n=t?"https://medtest-backend.herokuapp.com/tests/versions/list-all-test/"+t:"https://medtest-backend.herokuapp.com/tests/versions/lastest-version-test/",fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n?e.setState((function(e){return{testList:t.lsTests,testListTemp:t.lsTests,testListApi:!0}})):e.setState((function(t){return{testList:[],testListTemp:[],testListApi:!0}}))}),(function(t){console.log(t)}))}}},{key:"getTestList",value:function(){if("none"==this.state.testTypeSelected){for(var t=[],e=this.state.testListTemp.length-1;e>=0;){for(var n=this.state.testListTemp[e].listTest.length-1;n>=0;){(o=this.state.testListTemp[e].listTest[n]).testTypeName=this.state.testListTemp[e].testTypeName,t.push(o),n-=1}e-=1}return t}for(var r=[],a=this.state.testListTemp.length-1;a>=0;){if(this.state.testListTemp[a].testTypeID==this.state.testTypeSelected)for(var i=this.state.testListTemp[a].listTest.length-1;i>=0;){var o;(o=this.state.testListTemp[a].listTest[i]).testTypeName=this.state.testListTemp[a].testTypeName,r.push(o),i-=1}a-=1}return r}},{key:"render",value:function(){var t=this;E.a.get("window").width;return a.a.createElement(T.a,{style:pe.testUpdateViewArea},this.state.testListApi&&this.state.testVersionApi?a.a.createElement(T.a,{style:pe.testUpdateViewArea},a.a.createElement(T.a,{style:pe.testUpdateMenuArea},a.a.createElement(K.a,{selectedValue:this.state.versionSelected,style:pe.versionDropdown,onValueChange:function(e,n){return t.setSelectedVersion(e)}},this.state.versionList?this.state.versionList.map((function(t){return a.a.createElement(K.a.Item,{label:t.versionID,value:t.versionID,key:t.versionID})})):null),a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(S.a,{style:[pe.rowText,{width:89,fontWeight:"bold"}]},"C\u1eadp nh\u1eadt: "),a.a.createElement(S.a,{style:[pe.rowText,{width:173}]},this.state.versionCreatedTime?A(this.state.versionCreatedTime)+"   "+D(this.state.versionCreatedTime):"")),a.a.createElement(T.a,{style:{flexDirection:"row"}},a.a.createElement(S.a,{style:[pe.rowText,{width:143,fontWeight:"bold"}]},"Ng\u01b0\u1eddi c\u1eadp nh\u1eadt: "),a.a.createElement(S.a,{style:[pe.rowText,{width:200}]},this.state.versionCreatorName?this.state.versionCreatorName:"")),a.a.createElement(b.a,{style:pe.testUpdateConfirmButton,onPress:function(){return t.callApiUpdateVersion()}},a.a.createElement(S.a,{style:{color:"white"}},"C\u1eadp nh\u1eadt"))),a.a.createElement(T.a,{style:pe.testAddArea},a.a.createElement(T.a,{style:pe.testUpdateContainer},a.a.createElement(T.a,{style:pe.testUpdateRowContainer},a.a.createElement(S.a,{style:[pe.rowText,{fontWeight:"bold"}]},"Lo\u1ea1i test: "),a.a.createElement(K.a,{selectedValue:this.state.testTypeSelectedForCreate,style:pe.testTypeDropDown,onValueChange:function(e,n){return t.setState({testTypeSelectedForCreate:e})}},a.a.createElement(K.a.Item,{label:"Ch\u1ecdn lo\u1ea1i x\xe9t nghi\u1ec7m",value:"none",key:"none"}),this.state.testList?this.state.testList.map((function(t){return a.a.createElement(K.a.Item,{label:t.testTypeName,value:t.testTypeID,key:t.testTypeID})})):null),a.a.createElement(b.a,{style:pe.createTestButton,onPress:function(){return t.createTest()}},a.a.createElement(S.a,{style:{color:"white"}},"T\u1ea1o b\xe0i test"))),a.a.createElement(T.a,{style:pe.testUpdateRowContainer},a.a.createElement(S.a,{style:[pe.rowText,{fontWeight:"bold"}]},"T\xean test:"),a.a.createElement(L.a,{style:pe.rowTextInput,placeholder:"Nh\u1eadp t\xean b\xe0i test",name:"testName",onChange:this.handleChange,value:this.state.testName})),a.a.createElement(T.a,{style:pe.testUpdateRowContainer},a.a.createElement(S.a,{style:[pe.rowText,{fontWeight:"bold"}]},"Gi\xe1 ti\u1ec1n:"),a.a.createElement(L.a,{style:pe.rowTextInput,placeholder:"Nh\u1eadp gi\xe1 ti\u1ec1n (VN\u0110)",name:"testPrice",onChange:this.handleChange,value:this.state.testPrice})),a.a.createElement(T.a,{style:pe.testUpdateRowContainer},a.a.createElement(S.a,{style:pe.rowTextError},this.state.error)))),a.a.createElement(T.a,{style:pe.testUpdateMenuArea},a.a.createElement(K.a,{selectedValue:this.state.testTypeSelected,style:pe.testTypeDropDown,onValueChange:function(e,n){return t.setState({testTypeSelected:e,dataChanged:!t.state.dataChanged})}},a.a.createElement(K.a.Item,{label:"Ch\u1ecdn lo\u1ea1i x\xe9t nghi\u1ec7m",value:"none",key:"none"}),this.state.testList?this.state.testList.map((function(t){return a.a.createElement(K.a.Item,{label:t.testTypeName,value:t.testTypeID,key:t.testTypeID})})):null),a.a.createElement(S.a,{style:[pe.rowText,{width:500}]},"S\u1ed1 l\u01b0\u1ee3ng: ",this.getTestList()?this.getTestList().length:"0")),a.a.createElement(T.a,{style:pe.testListFlatListArea},a.a.createElement(F.a,{style:pe.testListFlatList,contentContainerStyle:{alignItems:"center",justifyContent:"flex-start"},showsVerticalScrollIndicator:!1,data:this.getTestList(),extraData:this.state.dataChanged,keyExtractor:function(t,e){return e.toString()},renderItem:function(e){var n=e.item;return a.a.createElement(T.a,null,a.a.createElement(ce,{testId:n.testID,testName:n.testName,testPrice:n.price,testTypeId:n.testTypeID,testTypeName:n.testTypeName,updatePrice:t.updatePrice}))}}))):a.a.createElement(T.a,{style:{height:300,flexDirection:"row",alignItems:"center",justifyContent:"center"}},a.a.createElement(S.a,null,"H\u1ec7 th\u1ed1ng \u0111ang ch\u1ea1y, vui l\xf2ng \u0111\u1ee3i ...")))}}]),r}(r.Component),pe=i.a.create({testUpdateViewArea:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"#f7f6f6"},testUpdateMenuArea:{height:70,width:1100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"",paddingTop:20,paddingBottom:20,marginTop:0,marginBottom:10},versionDropdown:{padding:3,width:200,borderRadius:5,marginRight:30},testAddArea:{width:1100,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",marginBottom:10},testUpdateContainer:{alignSelf:"stretch",width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:5,backgroundColor:"white",paddingTop:30,paddingLeft:50,paddingRight:50,paddingBottom:0},testUpdateRowContainer:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",marginBottom:30},rowText:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:150,fontSize:17,paddingTop:3},rowTextError:{alignSelf:"stretch",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:150,fontSize:13,color:"red"},testTypeDropDown:{alignSelf:"stretch",padding:3,width:500,borderRadius:5},rowTextInput:{alignSelf:"stretch",padding:3,width:800,backgroundColor:"white",borderWidth:1,borderRadius:5,paddingLeft:10},testUpdateConfirmButton:{height:30,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:50},createTestButton:{height:30,width:200,backgroundColor:"#25345D",borderRadius:5,borderWidth:1,flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:100},testListFlatListArea:{width:1100,flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},testListFlatList:{width:1100,flex:1,flexDirection:"column",backgroundColor:"",paddingTop:20,paddingBottom:20}});function de(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var me=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(de()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).state={},e.handleChange=e.handleChange.bind(d()(e)),e}return h()(r,[{key:"handleChange",value:function(t){var e=t.target&&t.target.name,n=t.target&&t.target.value;this.setState(v()({},e,n))}},{key:"render",value:function(){return a.a.createElement(I.a,{style:fe.headerContainer,resizeMode:"stretch"},a.a.createElement(T.a,{style:fe.textArea},a.a.createElement(S.a,null,"H\u1ec7 th\u1ed1ng \u0111ang ch\u1ea1y, vui l\xf2ng \u0111\u1ee3i ...")))}}]),r}(r.Component),fe=i.a.create({headerContainer:{height:600,width:q,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:""},textArea:{backgroundColor:""}});n(115);function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var we=function(t){f()(r,t);var e,n=(e=r,function(){var t,n=C()(e);if(ge()){var r=C()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)});function r(t){var e;return l()(this,r),(e=n.call(this,t)).callApiRequestList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.requestListApi&&(e.setState((function(t){return{requestListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/requests/list-all-request",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.state.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{requestList:t,requestListApi:!0}}))}),(function(t){console.log(t),e.setState((function(t){return{requestListApi:!0}}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.callApiAppointmentList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.appointmentListApi&&(e.setState((function(t){return{appointmentListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/appointments/list",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.state.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{appointmentList:t,appointmentListApi:!0}}))}),(function(t){console.log(t),e.setState((function(t){return{appointmentListApi:!0}}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.callApiArticleList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.articleListApi&&(e.setState((function(t){return{articleListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/articles/list").then((function(t){return t.json()})).then((function(t){var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{articleList:t,articleListApi:!0}}))}),(function(t){console.log(t),e.setState((function(t){return{articleListApi:!0}}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.callApiUserList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.userListApi&&(e.setState((function(t){return{userListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/users/list-all-user",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.state.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{userList:t,userListApi:!0}}))}),(function(t){console.log(t),e.setState((function(t){return{userListApi:!0}}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.callApiTestList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.testListApi&&(e.setState((function(t){return{testListApi:!1}})),fetch("https://medtest-backend.herokuapp.com/tests/versions/lastest-version-test/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e.state.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{testList:t.lsTests,testVersion:t.versionID,testListApi:!0}}))}),(function(t){console.log(t),e.setState((function(t){return{testListApi:!0}}))})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.callApiDistrictList=function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://medtest-backend.herokuapp.com/management/districts/district-town-list").then((function(t){return t.json()})).then((function(t){console.log(t);var n=!1;t&&(!t.message&&(n=!0)),n&&e.setState((function(e){return{districtList:t}}))}),(function(t){console.log(t),e.callApiDistrictList()}));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.state={Button1Selected:!0,Button2Selected:!1,Button3Selected:!1,Button4Selected:!1,Button5Selected:!1,dataChanged:!0,showView:"RequestListView",logIn:!1,userInfo:null,token:"",requestList:null,requestListApi:!0,selectedRequest:null,appointmentList:null,appointmentListApi:!0,selectedAppointment:null,articleList:null,articleListApi:!0,selectedArticle:null,testList:[],testListApi:!0,testVersion:"",userList:null,userListApi:!0,selectedAccount:null,districtList:null},e.loginSuccess=e.loginSuccess.bind(d()(e)),e.logOut=e.logOut.bind(d()(e)),e.searchRequest=e.searchRequest.bind(d()(e)),e.menuButtonPress=e.menuButtonPress.bind(d()(e)),e.changeShowView=e.changeShowView.bind(d()(e)),e.setSelectedArticle=e.setSelectedArticle.bind(d()(e)),e.setSelectedRequest=e.setSelectedRequest.bind(d()(e)),e.setSelectedAppointment=e.setSelectedAppointment.bind(d()(e)),e.setSelectedAccount=e.setSelectedAccount.bind(d()(e)),e.updateUserInfo=e.updateUserInfo.bind(d()(e)),e.searchUser=e.searchUser.bind(d()(e)),e}return h()(r,[{key:"componentDidMount",value:function(){console.log(E.a.get("window").width)}},{key:"changeShowView",value:function(t){"RequestListView"==t&&this.menuButtonPress("1"),"AppointmentListView"==t&&this.menuButtonPress("2"),"ArticleListView"==t&&this.menuButtonPress("3"),"AccountListView"==t&&this.menuButtonPress("5"),this.setState((function(e){return{showView:t}}))}},{key:"setSelectedArticle",value:function(t){this.setState((function(e){return{selectedArticle:t}}))}},{key:"setSelectedRequest",value:function(t){this.setState((function(e){return{selectedRequest:t}}))}},{key:"setSelectedAppointment",value:function(t){this.setState((function(e){return{selectedAppointment:t}}))}},{key:"setSelectedAccount",value:function(t){this.setState((function(e){return{selectedAccount:t}}))}},{key:"updateUserInfo",value:function(t){this.setState((function(e){return{userInfo:t}}))}},{key:"searchRequest",value:function(t){var e=this;console.log(t);for(var n=null,r=this.state.requestList.length-1;r>=0;)this.state.requestList[r].requestID==t&&(n=this.state.requestList[r],console.log(n),this.state.testVersion!=n.versionOfTest?fetch("https://medtest-backend.herokuapp.com/tests/versions/list-all-test/"+n.versionOfTest,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.state.token}}).then((function(t){return t.json()})).then((function(t){console.log(t);var r=!1;if(t&&(!t.message&&(r=!0)),r)return e.changeToRequestViewScreen(n,t.lsTests),!1}),(function(t){console.log(t)})):this.changeToRequestViewScreen(n,this.state.testList)),r-=1;if(null==n)return"Kh\xf4ng c\xf3 x\xe9t nghi\u1ec7m n\xe0y"}},{key:"changeToRequestViewScreen",value:function(t,e){var n={requestId:t.requestID,requestCreatedTime:t.requestCreatedTime,customerName:t.customerName,customerPhoneNumber:t.customerPhoneNumber,customerDOB:t.customerDOB,requestAddress:t.requestAddress,requestDistrictName:t.requestDistrictName,requestTownName:t.requestTownName,requestMeetingTime:t.requestMeetingTime,nurseName:t.nurseName,nurseID:t.nurseID,coordinatorName:t.coordinatorName,coordinatorId:t.coordinatorID,lsSelectedTest:t.lsSelectedTest,requestAmount:t.requestAmount,requestStatus:t.requestStatus,requestUpdatedTime:t.requestUpdatedTime,testList:e,requestTestVersion:t.versionOfTest};this.setSelectedRequest(n),this.changeShowView("RequestView")}},{key:"searchUser",value:function(t){console.log(t);for(var e=null,n=this.state.userList.length-1;n>=0;)this.state.userList[n].phoneNumber==t&&(e=this.state.userList[n],console.log(e),this.changeToAccountViewScreen(e)),n-=1}},{key:"changeToAccountViewScreen",value:function(t){var e={accountId:t.id,accountPhoneNumber:t.phoneNumber,accountName:t.name,accountDob:t.dob,accountAddress:t.address,accountPassword:t.password,accountActive:t.active,accountEmail:t.email,accountRole:t.role,accountGender:t.gender,accountImageUrl:t.image,accountTownCode:t.townCode,accountDistrictCode:t.districtCode};this.setSelectedAccount(e),this.changeShowView("AccountView")}},{key:"loginSuccess",value:function(t,e){var n=this;this.setState((function(n){return{logIn:!0,userInfo:t,token:e}})),setTimeout((function(){n.callApiRequestList(),n.callApiDistrictList()}),5)}},{key:"logOut",value:function(){this.changeShowView("RequestListView"),this.setState((function(t){return{logIn:!1,userInfo:null,token:null}}))}},{key:"menuButtonPress",value:function(t){var e=this;"1"==t&&this.callApiRequestList(),"2"==t&&this.callApiAppointmentList(),"3"==t&&this.callApiArticleList(),"5"==t&&this.callApiUserList(),this.setState((function(n){return{Button1Selected:"1"==t,Button2Selected:"2"==t,Button3Selected:"3"==t,Button4Selected:"4"==t,Button5Selected:"5"==t,showView:"1"==t?"RequestListView":"2"==t?"AppointmentListView":"3"==t?"ArticleListView":"4"==t?"TestUpdateView":"5"==t?"AccountListView":"RequestListView",dataChanged:!e.state.dataChanged}}))}},{key:"render",value:function(){var t=this;return a.a.createElement(T.a,{style:{flex:1}},a.a.createElement(M,{userInfo:this.state.userInfo?this.state.userInfo:null,changeShowView:this.state.userInfo?this.changeShowView:null,setSelectedAccount:this.state.userInfo?this.setSelectedAccount:null,logOut:this.state.userInfo?this.logOut:null,searchRequest:this.searchRequest}),this.state.logIn?a.a.createElement(T.a,{style:ye.listAreaContainer},a.a.createElement(T.a,{style:ye.topMenu},a.a.createElement(b.a,{style:[ye.topMenuButton,{width:"COORDINATOR"==this.state.userInfo.role?q/4:q/parseFloat(5),borderWidth:this.state.Button1Selected?1:0,backgroundColor:this.state.Button1Selected?"#a8c6fa":"white"}],onPress:function(){return t.menuButtonPress("1")}},a.a.createElement(S.a,{style:ye.topMenuText},"Y\xeau c\u1ea7u x\xe9t nghi\u1ec7m")),a.a.createElement(b.a,{style:[ye.topMenuButton,{width:"COORDINATOR"==this.state.userInfo.role?q/4:q/parseFloat(5),borderWidth:this.state.Button2Selected?1:0,backgroundColor:this.state.Button2Selected?"#a8c6fa":"white"}],onPress:function(){return t.menuButtonPress("2")}},a.a.createElement(S.a,{style:ye.topMenuText},"Cu\u1ed9c H\u1eb9n")),a.a.createElement(b.a,{style:[ye.topMenuButton,{width:"COORDINATOR"==this.state.userInfo.role?q/4:q/parseFloat(5),borderWidth:this.state.Button3Selected?1:0,backgroundColor:this.state.Button3Selected?"#a8c6fa":"white"}],onPress:function(){return t.menuButtonPress("3")}},a.a.createElement(S.a,{style:ye.topMenuText},"B\xe0i \u0111\u0103ng")),a.a.createElement(b.a,{style:[ye.topMenuButton,{width:"COORDINATOR"==this.state.userInfo.role?q/4:q/parseFloat(5),borderWidth:this.state.Button4Selected?1:0,backgroundColor:this.state.Button4Selected?"#a8c6fa":"white"}],onPress:function(){return t.menuButtonPress("4")}},a.a.createElement(S.a,{style:ye.topMenuText},"Test")),"COORDINATOR"==this.state.userInfo.role?null:a.a.createElement(b.a,{style:[ye.topMenuButton,{width:"COORDINATOR"==this.state.userInfo.role?0:q/parseFloat(5),borderWidth:this.state.Button5Selected?1:0,backgroundColor:this.state.Button5Selected?"#a8c6fa":"white"}],onPress:function(){return t.menuButtonPress("5")}},a.a.createElement(S.a,{style:ye.topMenuText},"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"))),a.a.createElement(T.a,{style:{width:"100%",flex:1,backgroundColor:""}},"RequestView"==this.state.showView?a.a.createElement(Yt,{request:this.state.selectedRequest,testList:this.state.testList,userInfo:this.state.userInfo,changeShowView:this.changeShowView,setSelectedRequest:this.setSelectedRequest,token:this.state.token}):"RequestResultView"==this.state.showView?a.a.createElement(Zt,{request:this.state.selectedRequest,changeShowView:this.changeShowView,token:this.state.token}):"RequestLostSampleView"==this.state.showView?a.a.createElement(ne,{request:this.state.selectedRequest,userInfo:this.state.userInfo,changeShowView:this.changeShowView,setSelectedRequest:this.setSelectedRequest,token:this.state.token}):"RequestUpdateResultView"==this.state.showView?a.a.createElement(ie,{request:this.state.selectedRequest,userInfo:this.state.userInfo,changeShowView:this.changeShowView,setSelectedRequest:this.setSelectedRequest,token:this.state.token}):"AppointmentView"==this.state.showView?a.a.createElement(wt,{appointment:this.state.selectedAppointment,userInfo:this.state.userInfo,changeShowView:this.changeShowView,token:this.state.token,setSelectedAppointment:this.setSelectedAppointment}):"AppointmentRejectView"==this.state.showView?a.a.createElement(St,{appointment:this.state.selectedAppointment,userInfo:this.state.userInfo,changeShowView:this.changeShowView,token:this.state.token,setSelectedAppointment:this.setSelectedAppointment}):"ArticleAddView"==this.state.showView?a.a.createElement(At,{token:this.state.token,userInfo:this.state.userInfo,changeShowView:this.changeShowView}):"ArticleView"==this.state.showView?a.a.createElement(qt,{article:this.state.selectedArticle,changeShowView:this.changeShowView,token:this.state.token}):"AccountCreateView"==this.state.showView?a.a.createElement(tt,{districtList:this.state.districtList,token:this.state.token,changeToAccountViewScreen:this.changeToAccountViewScreen}):"AccountView"==this.state.showView?a.a.createElement(rt,{districtList:this.state.districtList,account:this.state.selectedAccount,changeShowView:this.changeShowView,token:this.state.token,userInfo:this.state.userInfo,updateUserInfo:this.updateUserInfo}):"AccountChangePasswordView"==this.state.showView?a.a.createElement(ot,{account:this.state.selectedAccount,changeShowView:this.changeShowView,token:this.state.token,userInfo:this.state.userInfo}):"RequestListView"==this.state.showView?this.state.requestListApi?a.a.createElement(Ut,{requestList:this.state.requestList,testVersion:this.state.testVersion,changeShowView:this.changeShowView,setSelectedRequest:this.setSelectedRequest,districtList:this.state.districtList,token:this.state.token}):a.a.createElement(me,null):"AppointmentListView"==this.state.showView?this.state.appointmentListApi?a.a.createElement(pt,{appointmentList:this.state.appointmentList,changeShowView:this.changeShowView,setSelectedAppointment:this.setSelectedAppointment,districtList:this.state.districtList}):a.a.createElement(me,null):"ArticleListView"==this.state.showView?this.state.articleListApi?a.a.createElement(Lt,{articleList:this.state.articleList,changeShowView:this.changeShowView,setSelectedArticle:this.setSelectedArticle}):a.a.createElement(me,null):"TestUpdateView"==this.state.showView?a.a.createElement(he,{testList:this.state.testList,userInfo:this.state.userInfo,token:this.state.token}):"AccountListView"==this.state.showView?this.state.userListApi?a.a.createElement(X,{userList:this.state.userList,changeShowView:this.changeShowView,setSelectedAccount:this.setSelectedAccount,searchUser:this.searchUser}):a.a.createElement(me,null):a.a.createElement(T.a,null)),a.a.createElement(U,null)):a.a.createElement(jt,{loginSuccess:this.loginSuccess}))}}]),r}(r.Component),ye=i.a.create({listAreaContainer:{flex:1,width:q,flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:""},topMenu:{height:50,width:q,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"white"},topMenuButton:{width:q/parseFloat(5),height:50,flexDirection:"column",alignItems:"center",justifyContent:"center"},topMenuText:{fontSize:18}});function Ce(){return a.a.createElement(we,null)}n.d(e,"a",(function(){return Ce}));i.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},85:function(t,e,n){n(86),t.exports=n(116)},86:function(t,e){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/MedTestForCoordinator/expo-service-worker.js",{scope:"/MedTestForCoordinator/"}).then((function(t){})).catch((function(t){console.info("Failed to register service-worker",t)}))}))}},[[85,1,2]]]);
//# sourceMappingURL=app.3c018c57.chunk.js.map